(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c048ed4a"],{"04cb":function(t,e,i){"use strict";i("d63b")},2909:function(t,e,i){"use strict";function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function a(t){if(Array.isArray(t))return s(t)}i.d(e,"a",(function(){return c}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("a630");function r(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}i("fb6a"),i("b0c0");function n(t,e){if(t){if("string"===typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(t,e):void 0}}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return a(t)||r(t)||n(t)||o()}},"3f3a":function(t,e,i){},"4df4":function(t,e,i){"use strict";var s=i("0366"),a=i("7b0b"),r=i("9bdd"),n=i("e95a"),o=i("50c4"),c=i("8418"),l=i("35a1");t.exports=function(t){var e,i,u,d,p,v,f=a(t),m="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,w=void 0!==b,C=l(f),g=0;if(w&&(b=s(b,h>2?arguments[2]:void 0,2)),void 0==C||m==Array&&n(C))for(e=o(f.length),i=new m(e);e>g;g++)v=w?b(f[g],g):f[g],c(i,g,v);else for(d=C.call(f),p=d.next,i=new m;!(u=p.call(d)).done;g++)v=w?r(d,b,[u.value,g],!0):u.value,c(i,g,v);return i.length=g,i}},"5d59":function(t,e,i){},"6c83":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"top-navbar-container"},[t.$route.path.includes("user")||t.$route.path.includes("detail")||"mobile"!==t.screenSize?t._e():i("div",{staticClass:"menu__wrapper",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.showMenu=!0}}},[i("div",{staticClass:"menu-btn"})]),!t.showMenu||t.$route.path.includes("user")||t.$route.path.includes("detail")?t._e():i("MobileSideNavbar",{staticClass:"side-bar",on:{close:function(e){t.showMenu=!1}}}),"/user"===t.$route.path.slice(0,5)||"/detail"===t.$route.path.slice(0,7)?i("div",{staticClass:"top-navbar-wrapper"},[i("div",{staticClass:"top-navbar-icon",on:{click:function(e){return t.$router.go(-1)}}},[i("span",[t._v(" ←")])]),i("div",{staticClass:"top-navbar-name"},[t._v(" "+t._s(t.name)+" "),i("div",{staticClass:"top-navbar-text",class:{"text-title":!t.userTweetsLength&&0!==t.userTweetsLength}},[t._v(" "+t._s(t.userTweetsLength)+"推文 ")])])]):i("div",{staticClass:"top-navbar-title"},["/detail"===t.$route.path.slice(0,7)?i("div",{staticClass:"top-nav-title-icon"},[i("span",[t._v(" ←")])]):t._e(),i("div",{staticClass:"top-navbar-title-text"},[t._v(" "+t._s("/notifications"===t.$route.path.slice(0,14)?"通知":t.currentPage)+" ")])])],1)},a=[],r=i("5530"),n=(i("a9e3"),i("b0c0"),i("2f62")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"background"},[i("div",{staticClass:"side-navbar-container"},[i("div",{staticClass:"nav-item-container"},[i("div",{staticClass:"logo-wrapper"},[i("router-link",{attrs:{to:{name:"user-tweets",params:{id:t.currentUser.id}}}},[i("div",{staticClass:"side-navbar__image"},[i("img",{staticClass:"avatar-img",attrs:{src:t._f("emptyImage")(t.currentUser.avatar),alt:""}}),i("div",{staticClass:"side-navbar__name"},[t._v(" Hi "+t._s(t.currentUser.name)+"！ ")])])]),i("svg",{staticClass:"close-btn",attrs:{viewBox:"0 0 24 24","aria-hidden":"true"},on:{click:function(e){return t.$emit("close")}}},[i("g",[i("path",{attrs:{d:"M13.414 12l5.793-5.793c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0L12 10.586 6.207 4.793c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414L10.586 12l-5.793 5.793c-.39.39-.39 1.023 0 1.414.195.195.45.293.707.293s.512-.098.707-.293L12 13.414l5.793 5.793c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L13.414 12z"}})])])],1),t.$route.path.includes("admin")?t._e():[i("router-link",{staticClass:"side-navbar-item",class:{selected:this.$route.path.includes("mainpage")},attrs:{to:"/mainpage"},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("close")}}},[i("div",{staticClass:"icon-wrapper icon-main-wrapper"}),i("div",{staticClass:"content"},[t._v(" 首頁 ")])]),i("router-link",{staticClass:"side-navbar-item",class:{selected:this.$route.path.includes("notifications")},attrs:{to:"/notifications"},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("close")}}},[i("div",{staticClass:"icon-wrapper icon-notify-wrapper"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.subscribeNotification,expression:"subscribeNotification"}],staticClass:"notify-color-point"}),i("div",{staticClass:"content"},[t._v(" 通知 ")])]),i("router-link",{staticClass:"side-navbar-item",class:{selected:this.$route.path.includes("publicchat")},attrs:{to:"/publicchat"},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("close")}}},[i("div",{staticClass:"icon-wrapper icon-group-wrapper"}),i("div",{staticClass:"content"},[t._v(" 公開聊天室 ")])]),i("router-link",{staticClass:"side-navbar-item",class:{selected:this.$route.path.includes("privatechat")},attrs:{to:"/privatechat"},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("close")}}},[i("div",{staticClass:"icon-wrapper icon-mail-wrapper"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.getPrivateNotify,expression:"getPrivateNotify"}],staticClass:"notify-point"},[t._v(" "+t._s(t.getPrivateNotifyCount)+" ")]),i("div",{staticClass:"content"},[t._v(" 私人訊息 ")])]),i("router-link",{staticClass:"side-navbar-item",class:{selected:this.$route.path.includes("/tweets")},attrs:{to:{name:"user-tweets",params:{id:t.currentUser.id}}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("close")}}},[i("div",{staticClass:"icon-wrapper icon-user-wrapper"}),i("div",{staticClass:"content"},[t._v(" 個人資料 ")])]),i("router-link",{staticClass:"side-navbar-item",class:{selected:this.$route.path.includes("/setting")},attrs:{to:"/setting"},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("close")}}},[i("div",{staticClass:"icon-wrapper icon-setting-wrapper"}),i("div",{staticClass:"content"},[t._v(" 設定 ")])])]],2),i("div",{staticClass:"bottom-item-container",on:{click:t.logout}},[t._m(0)])])])},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"side-navbar-logout-wrapper"},[i("div",{staticClass:"icon-wrapper icon-logout-wrapper"}),i("div",{staticClass:"content"},[t._v(" 登出 ")])])}],l=i("2708"),u={mixins:[l["a"]],props:{openMenu:{type:Boolean,default:!1}},data:function(){return{newTweet:{}}},computed:Object(r["a"])({},Object(n["b"])(["currentUser","getPrivateNotify","getPrivateNotifyCount","subscribeNotification"])),methods:{logout:function(){console.log("logout"),this.$store.commit("revokeAuthentication"),this.$socket.disconnect(),this.$router.push("/login")},handleAfterSubmit:function(t){this.newTweet=t,this.$emit("after-side-submit",t)}}},d=u,p=(i("feab"),i("2877")),v=Object(p["a"])(d,o,c,!1,null,"f71d9454",null),f=v.exports,m={components:{MobileSideNavbar:f},props:{currentPage:{type:String,required:!0},initialName:{type:[Number,String],default:""},initialUserTweetsLength:{type:[Number,String],default:0}},data:function(){return{name:this.initialName,userTweetsLength:this.initialUserTweetsLength,showMenu:!1}},computed:Object(r["a"])({},Object(n["b"])(["screenSize"])),watch:{initialName:function(t){this.name=t},initialUserTweetsLength:function(t){this.userTweetsLength=t}}},h=m,b=(i("04cb"),Object(p["a"])(h,s,a,!1,null,"3e690951",null));e["a"]=b.exports},"6fd8":function(t,e,i){"use strict";i("5d59")},"9bdd":function(t,e,i){var s=i("825a"),a=i("2a62");t.exports=function(t,e,i,r){try{return r?e(s(i)[0],i[1]):e(i)}catch(n){throw a(t),n}}},a630:function(t,e,i){var s=i("23e7"),a=i("4df4"),r=i("1c7e"),n=!r((function(t){Array.from(t)}));s({target:"Array",stat:!0,forced:n},{from:a})},ab58:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"user-list-container"},[i("div",{staticClass:"user-list-wrapper"},[i("p",{staticClass:"title"},[t._v(" 跟隨誰 ")]),t._l(t.showAll?t.users:t.users.slice(0,6),(function(e){return i("div",{key:e.id,staticClass:"user__list"},[i("div",{staticClass:"user__list__content"},[i("router-link",{attrs:{to:{name:"user-tweets",params:{id:e.id}}}},[i("div",{staticClass:" user__list__content__avator "},[i("img",{staticClass:"avatar-img",attrs:{src:t._f("emptyImage")(e.avatar),alt:""}})])]),i("router-link",{attrs:{to:{name:"user-tweets",params:{id:e.id}}}},[i("div",{staticClass:"user__list__content__title"},[i("span",{staticClass:"user__list__content__title__name user-name"},[t._v(" "+t._s(e.name)+" ")]),i("span",{staticClass:"user__list__content__title__account"},[t._v("@"+t._s(e.account))])])])],1),i("div",{staticClass:"user__list__follow-btn"},[e.isFollowing?i("button",{staticClass:"following-btn",on:{click:function(i){return t.removeFollowing(e.id)}}},[t._v(" 正在跟隨 ")]):i("button",{staticClass:"to-follow-btn",on:{click:function(i){return t.addFollowing(e.id)}}},[t._v(" 跟隨 ")])])])})),i("div",{staticClass:"read-more",on:{click:t.toggleShowAll}},[t._v(" "+t._s(t.showAll?"顯示更少":"顯示更多")+" ")])],2)])},a=[],r=i("1da1"),n=i("2909"),o=i("5530"),c=(i("96cf"),i("b0c0"),i("4de4"),i("c968")),l=i("4cce"),u=i("2708"),d=i("2f62"),p={mixins:[u["a"]],props:{topUsers:{type:Array,required:!0}},data:function(){return{showAll:!1,users:this.topUsers,updateData:[]}},computed:Object(o["a"])({},Object(d["b"])(["currentUser"])),watch:{topUsers:function(t){this.users=Object(n["a"])(t)}},methods:{toggleShowAll:function(){this.showAll=!this.showAll},addFollowing:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(i.prev=0,e.currentUser.id!==t){i.next=4;break}return c["a"].fire({icon:"error",title:"不能自己追蹤自己啦!!!"}),i.abrupt("return");case 4:return i.next=6,l["a"].addFollowShip({id:t});case 6:if(s=i.sent,a=s.data,"success"===a.status){i.next=10;break}throw new Error(a.message);case 10:e.$store.commit("addFollowing"),e.$socket.emit("reactionNotify",{id:e.currentUser.id,receiverId:t,avatar:e.currentUser.avatar,name:e.currentUser.name,labelName:"follow"}),e.$emit("update-data",t),i.next=19;break;case 15:i.prev=15,i.t0=i["catch"](0),console.log(i.t0),c["a"].fire({icon:"error",title:"新增追蹤失敗"});case 19:e.users.filter((function(e){e.id===t&&(e.isFollowing=!0)}));case 20:case"end":return i.stop()}}),i,null,[[0,15]])})))()},removeFollowing:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,l["a"].removeFollowShip({userId:t});case 3:if(s=i.sent,a=s.data,"success"===a.status){i.next=7;break}throw new Error(a.message);case 7:e.$store.commit("minusFollowing"),e.$emit("update-remove-data",t),i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](0),console.log(i.t0),c["a"].fire({icon:"error",title:"取消追蹤失敗"});case 15:e.users.filter((function(e){e.id===t&&(e.isFollowing=!1)}));case 16:case"end":return i.stop()}}),i,null,[[0,11]])})))()}}},v=p,f=(i("6fd8"),i("2877")),m=Object(f["a"])(v,s,a,!1,null,"64c07b58",null);e["a"]=m.exports},b9c6:function(t,e,i){},c04a:function(t,e,i){"use strict";i("3f3a")},c295:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M25.6996 18.4709C25.6996 18.4709 18.2328 30.5781 12.1109 30.5781C1.40314 30.5781 11.3821 7.51318 19.1916 7.51318C24.641 7.51318 25.6996 18.4709 25.6996 18.4709Z",fill:"#FF6600"}}),i("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M34.5723 33.6972C32.4451 35.9607 29.8198 37.6976 26.9044 38.7701C23.989 39.8426 20.8639 40.2213 17.7767 39.8761C14.6895 39.5309 11.7252 38.4713 9.11881 36.7813C6.51245 35.0914 4.33573 32.8175 2.76123 30.1401C4.5314 32.5477 7.53375 34.1527 11.803 34.1527C22.3199 34.1527 28.2899 25.98 28.2899 25.98C28.2899 25.98 28.8062 32.4392 34.5593 33.6972H34.5723Z",fill:"#FF6600"}}),i("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M37.7223 10.7451C39.2963 13.7527 40.0781 17.1116 39.9939 20.505C39.9096 23.8984 38.9621 27.2144 37.2407 30.1401C35.8792 29.3764 34.8725 28.1082 34.4379 26.609L32.1558 19.7724L37.7223 10.7451Z",fill:"#FF6600"}}),i("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M20.0031 0.0173688C25.0185 0.0140335 29.8513 1.89881 33.5398 5.29665L29.7521 11.4088C28.3811 7.84302 25.5957 4.2729 20.1767 4.2729C9.07841 4.2729 0.852307 16.3888 0.852307 23.9846C0.849861 24.9669 0.975283 25.9454 1.22543 26.8953C0.115582 23.8725 -0.247948 20.6265 0.165719 17.4331C0.579385 14.2398 1.75802 11.1934 3.60147 8.55306C5.44491 5.91269 7.89866 3.75634 10.7542 2.26726C13.6097 0.778179 16.7826 0.000388507 20.0031 0V0.0173688Z",fill:"#FF6600"}})])},a=[],r=i("2877"),n={},o=Object(r["a"])(n,s,a,!1,null,null,null);e["a"]=o.exports},d28b:function(t,e,i){var s=i("746f");s("iterator")},d63b:function(t,e,i){},e161:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"side-navbar-container"},[i("div",{staticClass:"nav-item-container"},[i("div",{staticClass:"logo-wrapper"},[i("Logo")],1),t.$route.path.includes("admin")?[i("router-link",{staticClass:"side-navbar-item",class:{selected:this.$route.path.includes("/admin/tweets")},attrs:{to:"/admin/tweets"}},[i("div",{staticClass:"icon-wrapper icon-main-wrapper"}),i("div",{staticClass:"content"},[t._v(" 推文清單 ")])]),i("router-link",{staticClass:"side-navbar-item",class:{selected:this.$route.path.includes("/admin/users")},attrs:{to:"/admin/users"}},[i("div",{staticClass:"icon-wrapper icon-user-wrapper"}),i("div",{staticClass:"content"},[t._v(" 使用者列表 ")])])]:[i("router-link",{staticClass:"side-navbar-item main-icon",class:{selected:this.$route.path.includes("mainpage")},attrs:{to:"/mainpage"}},[i("div",{staticClass:"icon-wrapper icon-main-wrapper"}),i("div",{staticClass:"content"},[t._v(" 首頁 ")])]),i("router-link",{staticClass:"side-navbar-item notify-icon",class:{selected:this.$route.path.includes("notifications")},attrs:{to:"/notifications"}},[i("div",{staticClass:"icon-wrapper icon-notify-wrapper "}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.subscribeNotification,expression:"subscribeNotification"}],staticClass:"notify-color-point"}),i("div",{staticClass:"content"},[t._v(" 通知 ")])]),i("router-link",{staticClass:"side-navbar-item open-chat-icon",class:{selected:this.$route.path.includes("publicchat")},attrs:{to:"/publicchat"}},[i("div",{staticClass:"icon-wrapper icon-group-wrapper"}),i("div",{staticClass:"content"},[t._v(" 公開聊天室 ")])]),i("router-link",{staticClass:"side-navbar-item mail-icon",class:{selected:this.$route.path.includes("privatechat")},attrs:{to:"/privatechat"}},[i("div",{staticClass:"icon-wrapper icon-mail-wrapper "}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.getPrivateNotify,expression:"getPrivateNotify"}],staticClass:"notify-point"},[t._v(" "+t._s(t.getPrivateNotifyCount)+" ")]),i("div",{staticClass:"content"},[t._v(" 私人訊息 ")])]),i("router-link",{staticClass:"side-navbar-item user-icon",class:{selected:this.$route.path.includes("/tweets")},attrs:{to:{name:"user-tweets",params:{id:t.currentUser.id}}}},[i("div",{staticClass:"icon-wrapper icon-user-wrapper"}),i("div",{staticClass:"content"},[t._v(" 個人資料 ")])]),i("router-link",{staticClass:"side-navbar-item setting-icon",class:{selected:this.$route.path.includes("/setting")},attrs:{to:"/setting"}},[i("div",{staticClass:"icon-wrapper icon-setting-wrapper"}),i("div",{staticClass:"content"},[t._v(" 設定 ")])]),i("div",{staticClass:"side-navbar-item post-icon"},["mobile"===t.screenSize?i("label",{attrs:{for:"toggle__control"}},[i("div",{staticClass:"icon-wrapper icon-post-wrapper"})]):i("label",{staticClass:"side-navbar-button toggle__label",attrs:{for:"toggle__control"}},[t._v(" 推文 ")])])]],2),[i("input",{staticClass:"toggle__control",attrs:{id:"toggle__control",type:"checkbox"}}),i("NewPostModal",{on:{"after-side-submit":t.handleAfterSubmit}})],i("div",{staticClass:"bottom-item-container"},[i("div",{staticClass:"side-navbar-logout-wrapper",on:{click:t.logout}},[i("div",{staticClass:"icon-wrapper icon-logout-wrapper"}),i("div",{staticClass:"content"},[t._v(" 登出 ")])])])],2)},a=[],r=i("5530"),n=i("c295"),o=i("d867"),c=i("2f62"),l={components:{Logo:n["a"],NewPostModal:o["default"]},data:function(){return{newTweet:{}}},computed:Object(r["a"])({},Object(c["b"])(["currentUser","getPrivateNotify","getPrivateNotifyCount","subscribeNotification","screenSize"])),methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$socket.disconnect(),this.$router.push("/login")},handleAfterSubmit:function(t){this.newTweet=t,this.$emit("after-side-submit",t)}}},u=l,d=(i("c04a"),i("2877")),p=Object(d["a"])(u,s,a,!1,null,"1010231f",null);e["a"]=p.exports},fb6a:function(t,e,i){"use strict";var s=i("23e7"),a=i("861d"),r=i("e8b5"),n=i("23cb"),o=i("50c4"),c=i("fc6a"),l=i("8418"),u=i("b622"),d=i("1dde"),p=d("slice"),v=u("species"),f=[].slice,m=Math.max;s({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var i,s,u,d=c(this),p=o(d.length),h=n(t,p),b=n(void 0===e?p:e,p);if(r(d)&&(i=d.constructor,"function"!=typeof i||i!==Array&&!r(i.prototype)?a(i)&&(i=i[v],null===i&&(i=void 0)):i=void 0,i===Array||void 0===i))return f.call(d,h,b);for(s=new(void 0===i?Array:i)(m(b-h,0)),u=0;h<b;h++,u++)h in d&&l(s,u,d[h]);return s.length=u,s}})},feab:function(t,e,i){"use strict";i("b9c6")}}]);
//# sourceMappingURL=chunk-c048ed4a.67140405.js.map