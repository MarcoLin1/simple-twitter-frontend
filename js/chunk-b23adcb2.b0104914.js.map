{"version":3,"sources":["webpack:///./src/components/Spinner.vue?c969","webpack:///./src/components/Spinner.vue?53aa","webpack:///src/components/Spinner.vue","webpack:///./src/components/Spinner.vue?8682","webpack:///./src/components/Spinner.vue","webpack:///./src/components/TweetForm.vue?c886","webpack:///./src/views/MainPage.vue?fb69","webpack:///./src/views/MainPage.vue?b611","webpack:///./src/components/TweetForm.vue?cb61","webpack:///src/components/TweetForm.vue","webpack:///./src/components/TweetForm.vue?16cf","webpack:///./src/components/TweetForm.vue","webpack:///src/views/MainPage.vue","webpack:///./src/views/MainPage.vue?43e1","webpack:///./src/views/MainPage.vue","webpack:///./src/components/UserPost.vue?4db4","webpack:///./src/components/UserPost.vue?3635","webpack:///src/components/UserPost.vue","webpack:///./src/components/UserPost.vue?9362","webpack:///./src/components/UserPost.vue"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","component","on","handleAfterSubmit","tweets","_l","tweet","key","id","attrs","_e","addEmoji","_f","currentUser","avatar","directives","name","rawName","value","expression","domProps","$event","target","composing","description","class","hint","length","_v","_s","countNum","isProcessing","stopPropagation","preventDefault","handleSubmit","apply","arguments","components","mixins","data","computed","methods","emoji","trim","icon","title","$emit","TweetForm","UserPost","Spinner","props","newTweet","type","Object","required","isLoading","watch","fetchTweets","created","params","post","User","TweetId","account","createdAt","showModal","replyCount","isLike","removeLiked","liked","likeCount","addLiked","initialTweet","ReplyPostModal"],"mappings":"2IAAA,W,kCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAsBH,EAAII,MAAMC,GAAO,OAAOL,EAAIM,GAAG,IACnGC,EAAkB,CAAC,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBE,EAAGL,EAAII,MAAMC,IAAIH,EAAG,OAAOG,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,OAAOA,EAAG,OAAOA,EAAG,OAAOA,EAAG,OAAOA,EAAG,OAAOA,EAAG,OAAOA,EAAG,OAAOA,EAAG,aCQvP,KCTiV,I,wBCQ7UI,EAAY,eACd,EACAV,EACAQ,GACA,EACA,KACA,WACA,MAIa,OAAAE,E,sECnBf,W,oCCAA,W,yCCAA,IAAIV,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBE,EAAGL,EAAII,MAAMC,IAAIH,EAAG,OAAOG,EAAG,MAAM,CAACG,YAAY,eAAe,CAAER,EAAa,UAAEK,EAAG,UAAU,CAACG,YAAY,SAAS,CAACH,EAAG,YAAY,CAACK,GAAG,CAAC,eAAeV,EAAIW,qBAAsBX,EAAIY,OAAa,OAAEZ,EAAIa,GAAIb,EAAU,QAAE,SAASc,GAAO,OAAOT,EAAG,WAAW,CAACU,IAAID,EAAME,GAAGC,MAAM,CAAC,gBAAgBH,QAAWd,EAAIkB,OAAO,IAC1XX,EAAkB,G,wBCDlB,G,oBAAS,WAAa,IAAIP,EAAIC,KAASC,EAAGF,EAAIG,eAAmBE,EAAGL,EAAII,MAAMC,IAAIH,EAAG,OAAOG,EAAG,MAAM,CAACG,YAAY,0BAA0B,CAACH,EAAG,OAAO,CAACG,YAAY,wBAAwB,CAACH,EAAG,MAAM,CAACG,YAAY,sBAAsB,CAACH,EAAG,cAAc,CAACK,GAAG,CAAC,YAAYV,EAAImB,aAAa,GAAGd,EAAG,MAAM,CAACG,YAAY,+BAA+B,CAACH,EAAG,MAAM,CAACG,YAAY,sBAAsB,CAACH,EAAG,MAAM,CAACG,YAAY,aAAaS,MAAM,CAAC,IAAMjB,EAAIoB,GAAG,aAAPpB,CAAqBA,EAAIqB,YAAYC,QAAQ,IAAM,QAAQjB,EAAG,WAAW,CAACkB,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAO1B,EAAe,YAAE2B,WAAW,gBAAgBnB,YAAY,qBAAqBS,MAAM,CAAC,KAAO,OAAO,KAAO,IAAI,KAAO,KAAK,UAAY,MAAM,YAAc,WAAWW,SAAS,CAAC,MAAS5B,EAAe,aAAGU,GAAG,CAAC,MAAQ,SAASmB,GAAWA,EAAOC,OAAOC,YAAqB/B,EAAIgC,YAAYH,EAAOC,OAAOJ,aAAYrB,EAAG,MAAM,CAACG,YAAY,gCAAgC,CAACH,EAAG,MAAM,CAACkB,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAO1B,EAAe,YAAE2B,WAAW,gBAAgBnB,YAAY,aAAayB,MAAM,CAACC,KAAKlC,EAAIgC,YAAYG,OAAS,MAAM,CAACnC,EAAIoC,GAAG,IAAIpC,EAAIqC,GAAGrC,EAAIsC,UAAU,OAAOjC,EAAG,SAAS,CAACG,YAAY,sBAAsBS,MAAM,CAAC,KAAO,SAAS,SAAWjB,EAAIuC,cAAc7B,GAAG,CAAC,MAAQ,SAASmB,GAAyD,OAAjDA,EAAOW,kBAAkBX,EAAOY,iBAAwBzC,EAAI0C,aAAaC,MAAM,KAAMC,cAAc,CAAC5C,EAAIoC,GAAG,IAAIpC,EAAIqC,GAAGrC,EAAIuC,aAAc,MAAQ,MAAM,eACt4C,EAAkB,G,gFCoDtB,GACEM,WAAY,CAAd,oBACEC,OAAQ,CAAC,EAAX,MACEC,KAHF,WAII,MAAO,CACLf,YAAa,GACbO,cAAc,IAGlBS,SAAU,OAAZ,OAAY,CAAZ,kBACA,mDADA,IAEIV,SAAU,WACR,OAAO,IAAMrC,KAAK+B,YAAYG,UAGlCc,QAAS,CACP9B,SADJ,SACA,GACMlB,KAAK+B,aAAekB,GAEtBR,aAJJ,WAMM,OADAzC,KAAKsC,cAAe,EACftC,KAAK+B,YAAYmB,OAQlBlD,KAAK+B,YAAYG,OAAS,KAC5B,EAAR,WACUiB,KAAM,UACNC,MAAO,uBAETpD,KAAKsC,cAAe,KAItBtC,KAAKqD,MAAM,eAAgBrD,KAAK+B,aAChC/B,KAAK+B,YAAc,QACnB/B,KAAKsC,cAAe,KAlBlB,EAAR,WACUa,KAAM,UACNC,MAAO,iBAETpD,KAAKsC,cAAe,OC/EuT,I,wBCQ/U9B,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,4CCSf,GACEe,KAAM,WACNqB,WAAY,CACVU,UAAJ,EACIC,SAAJ,OACIC,QAAJ,QAEEC,MAAO,CACLC,SAAU,CACRC,KAAMC,OACNC,UAAU,IAGdf,KAbF,WAcI,MAAO,CACLnC,OAAQ,GACRmD,WAAW,IAGff,SAAU,OAAZ,OAAY,CAAZ,GACA,iCAEEgB,MAAO,CACLL,SADJ,SACA,GACM1D,KAAKgE,gBAKTC,QA7BF,WA8BIjE,KAAKgE,eAEPhB,QAAS,CACP,YADJ,WACA,yLAEA,mBAFA,gBAEA,EAFA,EAEA,KACA,WACA,eAJA,mDAMA,0BACA,aACA,aACA,2BATA,4DAaI,kBAdJ,SAcA,4LAEA,+BAFA,mBAEA,EAFA,EAEA,KACA,qBAHA,sBAIA,qBAJA,OAOA,kCACA,oBACA,UACA,4BACA,wBACA,oBAEA,gBAdA,qDAgBA,0BACA,aACA,aACA,6BAnBA,+DC1EkV,ICQ9U,G,UAAY,eACd,EACAlD,EACAQ,GACA,EACA,KACA,WACA,OAIa,e,oECnBf,W,yDCAA,IAAIR,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBE,EAAGL,EAAII,MAAMC,IAAIH,EAAG,OAAOG,EAAG,MAAM,CAACG,YAAY,mBAAmB,CAACH,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,cAAc,CAACY,MAAM,CAAC,GAAK,CAACO,KAAK,cAAe2C,OAAO,CAACnD,GAAIhB,EAAIoE,KAAKC,KAAKrD,OAAO,CAACX,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,MAAM,CAACG,YAAY,aAAaS,MAAM,CAAC,IAAMjB,EAAIoB,GAAG,aAAPpB,CAAqBA,EAAIoE,KAAKC,KAAK/C,QAAQ,IAAM,UAAUjB,EAAG,cAAc,CAACY,MAAM,CAAC,GAAK,CAACO,KAAK,eAAgB2C,OAAO,CAACnD,GAAIhB,EAAIoE,KAAKE,YAAY,CAACjE,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,cAAc,CAACY,MAAM,CAAC,GAAK,CAACO,KAAK,cAAe2C,OAAO,CAACnD,GAAIhB,EAAIoE,KAAKC,KAAKrD,OAAO,CAACX,EAAG,MAAM,CAACG,YAAY,6BAA6B,CAACH,EAAG,OAAO,CAACG,YAAY,wCAAwC,CAACR,EAAIoC,GAAG,IAAIpC,EAAIqC,GAAGrC,EAAIoE,KAAKC,KAAK7C,MAAM,OAAOnB,EAAG,OAAO,CAACG,YAAY,8BAA8B,CAACR,EAAIoC,GAAG,IAAIpC,EAAIqC,GAAGrC,EAAIoE,KAAKC,KAAKE,YAAYlE,EAAG,OAAO,CAACG,YAAY,8BAA8B,CAACR,EAAIoC,GAAG,OAAO/B,EAAG,OAAO,CAACG,YAAY,+DAA+D,CAACR,EAAIoC,GAAG,IAAIpC,EAAIqC,GAAGrC,EAAIoB,GAAG,UAAPpB,CAAkBA,EAAIoE,KAAKI,YAAY,WAAWnE,EAAG,MAAM,CAACG,YAAY,8BAA8B,CAACR,EAAIoC,GAAG,IAAIpC,EAAIqC,GAAGrC,EAAIoE,KAAKpC,aAAa,QAAQ,KAAK3B,EAAG,MAAM,CAACG,YAAY,0BAA0B,CAACH,EAAG,MAAM,CAACG,YAAY,gCAAgCE,GAAG,CAAC,MAAQ,SAASmB,GAAQ7B,EAAIyE,WAAY,KAAQ,CAACpE,EAAG,MAAM,CAACG,YAAY,mCAAmCH,EAAG,OAAO,CAACG,YAAY,8BAA8B,CAACR,EAAIoC,GAAGpC,EAAIqC,GAAGrC,EAAIoE,KAAKM,iBAAiBrE,EAAG,MAAM,CAACG,YAAY,yBAAyB,CAAGR,EAAIoE,KAAKO,OAA8TtE,EAAG,MAAM,CAACG,YAAY,kCAAkCE,GAAG,CAAC,MAAQ,SAASmB,GAAQ,OAAO7B,EAAI4E,YAAY5E,EAAIoE,KAAKE,YAAY,CAACjE,EAAG,MAAM,CAACG,YAAY,uCAAuCH,EAAG,OAAO,CAACG,YAAY,6BAA6ByB,MAAM,CAAC4C,MAAM7E,EAAIoE,KAAKO,SAAS,CAAC3E,EAAIoC,GAAGpC,EAAIqC,GAAGrC,EAAIoE,KAAKU,gBAAhmBzE,EAAG,MAAM,CAACG,YAAY,wCAAwCE,GAAG,CAAC,MAAQ,SAASmB,GAAQ,OAAO7B,EAAI+E,SAAS/E,EAAIoE,KAAKE,YAAY,CAACjE,EAAG,MAAM,CAACG,YAAY,gCAAgCH,EAAG,OAAO,CAACG,YAAY,6BAA6ByB,MAAM,CAAC4C,MAAM7E,EAAIoE,KAAKO,SAAS,CAAC3E,EAAIoC,GAAGpC,EAAIqC,GAAGrC,EAAIoE,KAAKU,qBAA+U,GAAI9E,EAAa,UAAE,CAACK,EAAG,iBAAiB,CAACY,MAAM,CAAC,gBAAgBjB,EAAIgF,cAActE,GAAG,CAAC,MAAQ,SAASmB,GAAQ7B,EAAIyE,WAAY,GAAO,eAAezE,EAAIW,sBAAsBX,EAAIkB,MAAM,IACj1EX,EAAkB,G,0GCwFtB,GACEiB,KAAM,WACNqB,WAAY,CACVoC,eAAJ,cAEEnC,OAAQ,CAAC,EAAX,aACEY,MAAO,CACLsB,aAAc,CACZpB,KAAMC,OACNC,UAAU,IAIdf,KAbF,WAcI,MAAO,CACL0B,WAAW,EACXL,KAAMnE,KAAK+E,aACXF,UAAW7E,KAAK+E,aAAaF,YAGjC9B,SAAU,OAAZ,OAAY,CAAZ,GACA,iCAGEgB,MAAO,CACLgB,aADJ,SACA,GACM/E,KAAKmE,KAAO,OAAlB,OAAkB,CAAlB,kBACA,WACA,IAGIU,UAPJ,SAOA,GACM7E,KAAK6E,UAAY7E,KAAKmE,KAAKU,YAG/B7B,QAAS,CACPtC,kBADJ,WAEMV,KAAKmE,KAAKM,WAAazE,KAAKmE,KAAKM,WAAa,GAEhD,SAJJ,SAIA,4LAEA,4BAFA,mBAEA,EAFA,EAEA,KACA,qBAHA,sBAIA,qBAJA,OAMA,qBACA,wCACA,QADA,IAEA,UACA,gCAGA,eAEA,iCACA,oBACA,0BACA,4BACA,wBACA,mBApBA,qDAuBA,kBACA,aACA,aACA,uBA1BA,6DA8BI,YAlCJ,SAkCA,4LAEA,+BAFA,mBAEA,EAFA,EAEA,KACA,qBAHA,sBAIA,qBAJA,OAMA,qBACA,wCACA,QADA,IAEA,UACA,gCAGA,eAbA,qDAeA,kBACA,aACA,aACA,uBAlBA,+DC9JkV,I,wBCQ9UjE,EAAY,eACd,EACAV,EACAQ,GACA,EACA,KACA,WACA,MAIa,OAAAE,E","file":"js/chunk-b23adcb2.b0104914.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=style&index=0&id=469b7f34&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spin\"},[_c('div',{staticClass:\"lds-roller\"},[_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div')])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"spin\">\n    <div class=\"lds-roller\">\n      <div /><div /><div /><div /><div /><div /><div /><div />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../assets/scss/main.scss';\n.spin {\n  width: 100%;\n  height: 100%;\n}\n.lds-roller {\n  display: inline-block;\n  position: relative;\n  top: 20%;\n  left: 40%;\n  width: 80px;\n  height: 80px;\n}\n.lds-roller div {\n  animation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  transform-origin: 40px 40px;\n}\n.lds-roller div:after {\n  content: \" \";\n  display: block;\n  position: absolute;\n  width: 7px;\n  height: 7px;\n  border-radius: 50%;\n  background: $orange;\n  margin: -4px 0 0 -4px;\n}\n.lds-roller div:nth-child(1) {\n  animation-delay: -0.036s;\n}\n.lds-roller div:nth-child(1):after {\n  top: 63px;\n  left: 63px;\n}\n.lds-roller div:nth-child(2) {\n  animation-delay: -0.072s;\n}\n.lds-roller div:nth-child(2):after {\n  top: 68px;\n  left: 56px;\n}\n.lds-roller div:nth-child(3) {\n  animation-delay: -0.108s;\n}\n.lds-roller div:nth-child(3):after {\n  top: 71px;\n  left: 48px;\n}\n.lds-roller div:nth-child(4) {\n  animation-delay: -0.144s;\n}\n.lds-roller div:nth-child(4):after {\n  top: 72px;\n  left: 40px;\n}\n.lds-roller div:nth-child(5) {\n  animation-delay: -0.18s;\n}\n.lds-roller div:nth-child(5):after {\n  top: 71px;\n  left: 32px;\n}\n.lds-roller div:nth-child(6) {\n  animation-delay: -0.216s;\n}\n.lds-roller div:nth-child(6):after {\n  top: 68px;\n  left: 24px;\n}\n.lds-roller div:nth-child(7) {\n  animation-delay: -0.252s;\n}\n.lds-roller div:nth-child(7):after {\n  top: 63px;\n  left: 17px;\n}\n.lds-roller div:nth-child(8) {\n  animation-delay: -0.288s;\n}\n.lds-roller div:nth-child(8):after {\n  top: 56px;\n  left: 12px;\n}\n@keyframes lds-roller {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Spinner.vue?vue&type=template&id=469b7f34&scoped=true&\"\nimport script from \"./Spinner.vue?vue&type=script&lang=js&\"\nexport * from \"./Spinner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Spinner.vue?vue&type=style&index=0&id=469b7f34&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"469b7f34\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetForm.vue?vue&type=style&index=0&id=23e3e743&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPage.vue?vue&type=style&index=0&id=2f4e7ba9&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"top-wrapper\"},[(_vm.isLoading)?_c('Spinner',{staticClass:\"mt-5\"}):[_c('TweetForm',{on:{\"after-submit\":_vm.handleAfterSubmit}}),(_vm.tweets.length)?_vm._l((_vm.tweets),function(tweet){return _c('UserPost',{key:tweet.id,attrs:{\"initial-tweet\":tweet}})}):_vm._e()]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tweet__form__container\"},[_c('form',{staticClass:\"tweet__form__wrapper\"},[_c('div',{staticClass:\"tweet__form__emoji\"},[_c('EmojiPicker',{on:{\"add-emoji\":_vm.addEmoji}})],1),_c('div',{staticClass:\"tweet__form__image__wrapper\"},[_c('div',{staticClass:\"tweet__form__image\"},[_c('img',{staticClass:\"avatar-img\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.currentUser.avatar),\"alt\":\"\"}})]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.description),expression:\"description\"}],staticClass:\"tweet__form__input\",attrs:{\"type\":\"text\",\"rows\":\"4\",\"cols\":\"50\",\"maxlength\":\"140\",\"placeholder\":\"有什麼新鮮事?\"},domProps:{\"value\":(_vm.description)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.description=$event.target.value}}})]),_c('div',{staticClass:\"tweet__form__button__wrapper\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.description),expression:\"description\"}],staticClass:\"alert-text\",class:{hint:_vm.description.length > 130}},[_vm._v(\" \"+_vm._s(_vm.countNum)+\" \")]),_c('button',{staticClass:\"tweet__form__button\",attrs:{\"type\":\"submit\",\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm.isProcessing? '處理中' : '推文')+\" \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tweet__form__container\">\n    <form class=\"tweet__form__wrapper\">\n      <div class=\"tweet__form__emoji\">\n        <EmojiPicker @add-emoji=\"addEmoji\" />\n      </div>\n\n      <div class=\"tweet__form__image__wrapper\">\n        <div class=\"tweet__form__image\">\n          <img\n            class=\"avatar-img\"\n            :src=\"currentUser.avatar | emptyImage\"\n            alt=\"\"\n          >\n        </div>\n        <textarea\n          v-model=\"description\"\n          type=\"text\"\n          rows=\"4\"\n          cols=\"50\"\n          maxlength=\"140\"\n          class=\"tweet__form__input\"\n          placeholder=\"有什麼新鮮事?\"\n        />\n      </div>\n\n      <div class=\"tweet__form__button__wrapper\">\n        <div\n          v-show=\"description\"\n          class=\"alert-text\"\n          :class=\"{hint:description.length > 130}\"\n        >\n          {{ countNum }}\n        </div>\n        <button\n          type=\"submit\"\n          class=\"tweet__form__button\"\n          :disabled=\"isProcessing\"\n          @click.stop.prevent=\"handleSubmit\"\n        >\n          {{ isProcessing? '處理中' : '推文' }}\n        </button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { Toast } from '../utils/helper'\nimport { emptyImageFilter } from './../utils/mixins'\nimport { mapState } from 'vuex'\nimport EmojiPicker from './../components/EmojiPicker.vue'\n\nexport default {\n  components: { EmojiPicker },\n  mixins: [emptyImageFilter],\n  data () {\n    return {\n      description: '',\n      isProcessing: false\n    }\n  },\n  computed: {\n    ...mapState(['currentUser', 'isAuthenticated']),\n    countNum: function () {\n      return 140 - this.description.length\n    }\n  },\n  methods: {\n    addEmoji (emoji) {\n      this.description += emoji\n    },\n    handleSubmit () {\n      this.isProcessing = true\n      if (!this.description.trim()) {\n        Toast.fire({\n          icon: 'warning',\n          title: '請輸入推文內容'\n        })\n        this.isProcessing = false\n        return\n      }\n      if (this.description.length > 140) {\n        Toast.fire({\n          icon: 'warning',\n          title: '字數請限制於 140 字內'\n        })\n        this.isProcessing = false\n        return\n      }\n\n      this.$emit('after-submit', this.description)\n      this.description = ''\n      this.isProcessing = false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../assets/scss/main.scss';\n  .avatar-img{\n    cursor: default;\n  }\n  .tweet__form__wrapper {\n    position: relative;\n    width: 600px;\n    height: auto;\n    margin: 0 auto;\n    border-top: 1px solid $light-gray;\n    border-bottom: 10px solid $light-gray;\n    padding: 10px 15px 10px 15px;\n    .tweet__form__emoji{\n      position: absolute;\n      bottom: 3.5rem;\n      right: 15px;\n    }\n  }\n  .tweet__form__image__wrapper {\n    display: flex;\n    .tweet__form__image {\n      width: 50px;\n      height: 50px;\n      border-radius: 50%;\n      margin-right: 10px;\n      background: $img-dark-gray;\n    }\n    .tweet__form__input {\n      border: none;\n      color: #9197A3;\n      padding: 10px 0 0 10px;\n      letter-spacing: 1px;\n      line-height: 1.3rem;\n      resize: none;\n      &:focus-visible {\n        width: 75%;\n        outline:none;\n      }\n    }\n  }\n  .tweet__form__button__wrapper {\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n\n    .tweet__form__button {\n      width: 64px;\n      height: 40px;\n      border: none;\n      border-radius: 100px;\n      background-color: $orange;\n      color: #ffffff;\n      &:disabled{\n        background-color: $disabled-orange;\n  }\n    }\n  }\n  @media screen and (max-width: 768px) {\n  .tweet__form__wrapper{\n    width: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetForm.vue?vue&type=template&id=23e3e743&scoped=true&\"\nimport script from \"./TweetForm.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetForm.vue?vue&type=style&index=0&id=23e3e743&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"23e3e743\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"top-wrapper\">\n    <Spinner\n      v-if=\"isLoading\"\n      class=\"mt-5\"\n    />\n    <template\n      v-else\n    >\n      <TweetForm @after-submit=\"handleAfterSubmit\" />\n      <template v-if=\"tweets.length\">\n        <UserPost\n          v-for=\"tweet in tweets\"\n          :key=\"tweet.id\"\n          :initial-tweet=\"tweet\"\n        />\n      </template>\n    </template>\n  </div>\n</template>\n<script>\nimport TweetForm from './../components/TweetForm.vue'\nimport UserPost from './../components/UserPost.vue'\nimport tweetAPI from './../apis/tweets'\nimport Spinner from './../components/Spinner.vue'\nimport { Toast } from '../utils/helper'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'Mainpage',\n  components: {\n    TweetForm,\n    UserPost,\n    Spinner\n  },\n  props: {\n    newTweet: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      tweets: [],\n      isLoading: true\n    }\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  },\n  watch: {\n    newTweet (newValue) {\n      this.fetchTweets()\n    }\n\n  },\n\n  created () {\n    this.fetchTweets()\n  },\n  methods: {\n    async fetchTweets () {\n      try {\n        const { data } = await tweetAPI.getTweets()\n        this.tweets = data\n        this.isLoading = false\n      } catch (error) {\n        console.log('errer', error)\n        Toast.fire({\n          icon: 'error',\n          title: '無法顯示Tweets，請稍後再試'\n        })\n      }\n    },\n    async handleAfterSubmit (description) {\n      try {\n        const { data } = await tweetAPI.create({ description })\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n        // 傳送sockets發文事件\n        this.$socket.emit('subscribeNotify', {\n          id: this.currentUser.id,\n          content: description,\n          avatar: this.currentUser.avatar,\n          name: this.currentUser.name,\n          labelName: 'tweet'\n        })\n        this.fetchTweets()\n      } catch (error) {\n        console.log('error', error)\n        Toast.fire({\n          icon: 'error',\n          title: '目前無法新增 Tweet，請稍後再試'\n        })\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import '../assets/scss/main.scss';\n.top-wrapper{\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MainPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MainPage.vue?vue&type=template&id=2f4e7ba9&scoped=true&\"\nimport script from \"./MainPage.vue?vue&type=script&lang=js&\"\nexport * from \"./MainPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MainPage.vue?vue&type=style&index=0&id=2f4e7ba9&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f4e7ba9\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPost.vue?vue&type=style&index=0&id=61bdd2a2&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"post__container\"},[_c('div',{staticClass:\"post\"},[_c('router-link',{attrs:{\"to\":{name:'user-tweets', params:{id: _vm.post.User.id}}}},[_c('div',{staticClass:\" post__avatar\"},[_c('img',{staticClass:\"avatar-img\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.post.User.avatar),\"alt\":\"\"}})])]),_c('router-link',{attrs:{\"to\":{name:'detail-tweet', params:{id: _vm.post.TweetId}}}},[_c('div',{staticClass:\"post__content\"},[_c('router-link',{attrs:{\"to\":{name:'user-tweets', params:{id: _vm.post.User.id}}}},[_c('div',{staticClass:\"post__content__title mb-2\"},[_c('span',{staticClass:\"post__content__title__item user-name\"},[_vm._v(\" \"+_vm._s(_vm.post.User.name)+\" \")]),_c('span',{staticClass:\"post__content__title__item\"},[_vm._v(\"@\"+_vm._s(_vm.post.User.account))]),_c('span',{staticClass:\"post__content__title__item\"},[_vm._v(\"·\")]),_c('span',{staticClass:\"post__content__title__item post__content__title__item__time\"},[_vm._v(\" \"+_vm._s(_vm._f(\"fromNow\")(_vm.post.createdAt))+\" \")])])]),_c('div',{staticClass:\"post__content__discription\"},[_vm._v(\" \"+_vm._s(_vm.post.description)+\" \")])],1)]),_c('div',{staticClass:\"post__reaction d-flex \"},[_c('div',{staticClass:\"post__reaction__item message \",on:{\"click\":function($event){_vm.showModal = true}}},[_c('div',{staticClass:\"post__reaction__item__message \"}),_c('span',{staticClass:\"post__reaction__item__text\"},[_vm._v(_vm._s(_vm.post.replyCount))])]),_c('div',{staticClass:\"post__reaction__item \"},[(!_vm.post.isLike)?_c('div',{staticClass:\"post__reaction__item__container heart\",on:{\"click\":function($event){return _vm.addLiked(_vm.post.TweetId)}}},[_c('div',{staticClass:\"post__reaction__item__heart\"}),_c('span',{staticClass:\"post__reaction__item__text\",class:{liked:_vm.post.isLike}},[_vm._v(_vm._s(_vm.post.likeCount))])]):_c('div',{staticClass:\"post__reaction__item__container\",on:{\"click\":function($event){return _vm.removeLiked(_vm.post.TweetId)}}},[_c('div',{staticClass:\"post__reaction__item__heart--liked\"}),_c('span',{staticClass:\"post__reaction__item__text\",class:{liked:_vm.post.isLike}},[_vm._v(_vm._s(_vm.post.likeCount))])])])])],1),(_vm.showModal)?[_c('ReplyPostModal',{attrs:{\"initial-tweet\":_vm.initialTweet},on:{\"close\":function($event){_vm.showModal = false},\"after-submit\":_vm.handleAfterSubmit}})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"post__container\">\n    <!-- 切換選單 -->\n    <div class=\"post\">\n      <router-link :to=\"{name:'user-tweets', params:{id: post.User.id}}\">\n        <div class=\" post__avatar\">\n          <img\n            class=\"avatar-img\"\n            :src=\"post.User.avatar | emptyImage\"\n            alt=\"\"\n          >\n        </div>\n      </router-link>\n      <router-link :to=\"{name:'detail-tweet', params:{id: post.TweetId}}\">\n        <div class=\"post__content\">\n          <router-link :to=\"{name:'user-tweets', params:{id: post.User.id}}\">\n            <div class=\"post__content__title mb-2\">\n              <span class=\"post__content__title__item user-name\">\n                {{ post.User.name }}\n              </span>\n              <span class=\"post__content__title__item\">@{{ post.User.account }}</span>\n              <span class=\"post__content__title__item\">·</span>\n              <span class=\"post__content__title__item post__content__title__item__time\">\n                {{ post.createdAt | fromNow }}\n              </span>\n            </div>\n          </router-link>\n          <div class=\"post__content__discription\">\n            {{ post.description }}\n          </div>\n        </div>\n      </router-link>\n      <div class=\"post__reaction d-flex \">\n        <div\n          class=\"post__reaction__item message \"\n          @click=\"showModal = true\"\n        >\n          <div class=\"post__reaction__item__message \" />\n          <span class=\"post__reaction__item__text\">{{ post.replyCount }}</span>\n        </div>\n        <div class=\"post__reaction__item \">\n          <div\n            v-if=\"!post.isLike\"\n            class=\"post__reaction__item__container heart\"\n            @click=\"addLiked(post.TweetId)\"\n          >\n            <div\n              class=\"post__reaction__item__heart\"\n            />\n            <span\n              class=\"post__reaction__item__text\"\n              :class=\"{liked:post.isLike}\"\n            >{{ post.likeCount }}</span>\n          </div>\n          <div\n            v-else\n            class=\"post__reaction__item__container\"\n            @click=\"removeLiked(post.TweetId)\"\n          >\n            <div\n              class=\"post__reaction__item__heart--liked\"\n            />\n\n            <span\n              class=\"post__reaction__item__text\"\n              :class=\"{liked:post.isLike}\"\n            >{{ post.likeCount }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <template\n      v-if=\"showModal\"\n    >\n      <ReplyPostModal\n        :initial-tweet=\"initialTweet\"\n        @close=\"showModal = false\"\n        @after-submit=\"handleAfterSubmit\"\n      />\n    </template>\n  </div>\n</template>\n<script>\nimport { Toast } from '../utils/helper'\nimport { fromNowFilter, emptyImageFilter } from './../utils/mixins'\nimport ReplyPostModal from './../components/ReplyPostModal.vue'\nimport userAPI from './../apis/users'\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'UserPost',\n  components: {\n    ReplyPostModal\n  },\n  mixins: [fromNowFilter, emptyImageFilter],\n  props: {\n    initialTweet: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data () {\n    return {\n      showModal: false,\n      post: this.initialTweet,\n      likeCount: this.initialTweet.likeCount\n    }\n  },\n  computed: {\n    ...mapState(['currentUser'])\n\n  },\n  watch: {\n    initialTweet (newValue) {\n      this.post = {\n        ...this.post,\n        ...newValue\n      }\n    },\n    likeCount (newValue) {\n      this.likeCount = this.post.likeCount\n    }\n  },\n  methods: {\n    handleAfterSubmit () {\n      this.post.replyCount = this.post.replyCount + 1\n    },\n    async addLiked (tweetId) {\n      try {\n        const { data } = await userAPI.addLike({ tweetId })\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n        if (this.post.TweetId === tweetId) {\n          this.post = {\n            ...this.post,\n            isLike: true,\n            likeCount: this.post.likeCount + 1\n          }\n        }\n        this.likeCount += 1\n        // socket event\n        this.$socket.emit('reactionNotify', {\n          id: this.currentUser.id,\n          receiverId: this.post.User.id,\n          avatar: this.currentUser.avatar,\n          name: this.currentUser.name,\n          labelName: 'like'\n        })\n      } catch (e) {\n        console.log(e)\n        Toast.fire({\n          icon: 'error',\n          title: '喜歡貼文失敗，請稍候再試'\n        })\n      }\n    },\n    async removeLiked (tweetId) {\n      try {\n        const { data } = await userAPI.removeLike({ tweetId })\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n        if (this.post.TweetId === tweetId) {\n          this.post = {\n            ...this.post,\n            isLike: false,\n            likeCount: this.post.likeCount - 1\n          }\n        }\n        this.likeCount -= 1\n      } catch (e) {\n        console.log(e)\n        Toast.fire({\n          icon: 'error',\n          title: '取消喜歡失敗，請稍候再試'\n        })\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import '../assets/scss/main.scss';\na{\n  text-decoration: none;\n  cursor: pointer;\n  color: $tx-gray;\n}\n.liked{\n  color: $heart-pink;\n  }\n.post__container{\n  width: 600px;\n}\n.post__item__wrapper {\n  display: flex;\n  width: 390px;\n  justify-content: space-around;\n  text-decoration: none;\n  .post__item {\n    text-decoration: none;\n    width: 130px;\n    text-align: center;\n    &:hover {\n      border-bottom: 1px solid $orange;\n    }\n    .post__item__button {\n      color: $tx-gray;\n      text-decoration: none;\n      padding: 16px 0 16px 0;\n      font-weight: 700;\n      &:hover {\n        color: $orange;\n      }\n    }\n  }\n}\n\n.post {\n  display: grid;\n  grid-template-columns: 50px 1fr;\n  grid-row-gap: 12px;\n  max-width: 600px;\n  border-bottom: 1px solid $light-gray;\n  margin-top: -1px;\n  padding: 15px;\n  &.noborder{\n    border: 0px;\n  }\n  &__content {\n    margin-left: 10px;\n    cursor: pointer;\n    &__title {\n      color: $tx-gray;\n      &__item {\n        cursor: pointer;\n        &:nth-child(2){\n          margin-right: 3px;\n        }\n        &__time {\n          font-size: 14px;\n          margin-left: -1px;\n        }\n      }\n    }\n    &__discription {\n      line-height: 20px;\n      width: 100%;\n      word-break: break-all;\n      @include text-style(15px, normal, $black,pointer);\n    }\n\n  }\n  &__reaction {\n      grid-column: 2/3;\n      grid-row: 2/3;\n      margin-left: 10px;\n      color: $tx-gray;\n      height: 20px;\n      display: flex;\n      align-items: center;\n      .heart{\n        position: relative;\n        &::before{\n          position: absolute;\n          top: -1px;\n          left: -2px;\n          content: '';\n          width: 22px;\n          height: 22px;\n          border-radius: 50%;\n          background:  $heart-pink;\n          opacity: 0;\n        }\n      }\n      .message{\n        position: relative;\n        &::before{\n          position: absolute;\n          top: -1px;\n          left: -2px;\n          content: '';\n          width: 22px;\n          height: 22px;\n          border-radius: 50%;\n          background:  $light-blue;\n          opacity: 0;\n        }\n      }\n      .message:hover {\n          color: $light-blue;\n          &::before{\n          opacity: 0.2;\n          transition: opacity 0.2s ease-in ;\n        }\n          div{\n            background: $light-blue;\n          }\n      }\n      .heart:hover{\n        color: $heart-pink;\n        position: relative;\n\n        &::before{\n          opacity: 0.2;\n          transition: opacity 0.2s ease-in ;\n        }\n        div{\n          background: $heart-pink;\n        }\n      }\n      &__item {\n        cursor: pointer;\n        margin-right: 50px;\n        display: flex;\n        align-items: center;\n        width: 47px;\n        &__container{\n          width: 100%;\n          display: flex;\n          align-items: center;\n        }\n        &__text {\n          font-size: 14px;\n          line-height: 14px;\n          margin-left: 12px;\n          line-height: 20px;\n        }\n        &__message,&__heart, &__heart--liked{\n          width: 18px;\n          height: 18px;\n          @extend %icon-style;\n        }\n        &__message{\n          mask-image: url('./../assets/icon/icon_message.svg');\n          -webkit-mask-image:url('./../assets/icon/icon_message.svg');\n          background: $tx-gray;\n        }\n        &__heart{\n          mask-image: url('./../assets/icon/icon_like.svg');\n          -webkit-mask-image:url('./../assets/icon/icon_like.svg');\n          background: $tx-gray;\n\n          &--liked{\n            mask-image: url('./../assets/icon/icon_isliked.svg');\n            -webkit-mask-image:url('./../assets/icon/icon_isliked.svg');\n            background-color: $heart-pink;\n            width: 18px;\n            height: 18px;\n          }\n        }\n      }\n    }\n}\n@media screen and (max-width: 768px) {\n  .post__container{\n    width: 100%;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPost.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserPost.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserPost.vue?vue&type=template&id=61bdd2a2&scoped=true&\"\nimport script from \"./UserPost.vue?vue&type=script&lang=js&\"\nexport * from \"./UserPost.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserPost.vue?vue&type=style&index=0&id=61bdd2a2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61bdd2a2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}