{"version":3,"sources":["webpack:///./src/components/Spinner.vue?c969","webpack:///./src/components/Spinner.vue?53aa","webpack:///src/components/Spinner.vue","webpack:///./src/components/Spinner.vue?8682","webpack:///./src/components/Spinner.vue","webpack:///./src/components/TweetInfo.vue?c029","webpack:///./src/views/DetailTweet.vue?96b7","webpack:///./src/components/TweetInfo.vue?d264","webpack:///src/components/TweetInfo.vue","webpack:///./src/components/TweetInfo.vue?2b3b","webpack:///./src/components/TweetInfo.vue","webpack:///./src/components/Messages.vue?474f","webpack:///src/components/Messages.vue","webpack:///./src/components/Messages.vue?228d","webpack:///./src/components/Messages.vue","webpack:///src/views/DetailTweet.vue","webpack:///./src/views/DetailTweet.vue?7401","webpack:///./src/views/DetailTweet.vue","webpack:///./src/components/Messages.vue?d975"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","component","attrs","tweet","on","addTweetAfterSubmit","_l","reply","key","id","user","name","params","User","_f","avatar","_v","_s","account","description","createdAt","replyCount","likeCount","$event","showModal","isLike","preventDefault","stopPropagation","removeLiked","addLiked","initialTweet","handleAfterSubmit","_e","components","ReplyPostModal","mixins","props","type","Object","required","data","computed","watch","methods","$emit","replyData","comment","initialUser","initialReply","repliedAccount","TweetInfo","Messages","Spinner","replies","isLoading","created","fetchData","tweetId","fetchReplies","beforeRouteUpdate","next","unshift","Date","currentUser"],"mappings":"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","file":"js/chunk-0e5a37c2.f4905c54.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=style&index=0&id=469b7f34&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spin\"},[_c('div',{staticClass:\"lds-roller\"},[_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div'),_c('div')])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"spin\">\n    <div class=\"lds-roller\">\n      <div /><div /><div /><div /><div /><div /><div /><div />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../assets/scss/main.scss';\n.spin {\n  width: 100%;\n  height: 100%;\n}\n.lds-roller {\n  display: inline-block;\n  position: relative;\n  top: 20%;\n  left: 40%;\n  width: 80px;\n  height: 80px;\n}\n.lds-roller div {\n  animation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  transform-origin: 40px 40px;\n}\n.lds-roller div:after {\n  content: \" \";\n  display: block;\n  position: absolute;\n  width: 7px;\n  height: 7px;\n  border-radius: 50%;\n  background: $orange;\n  margin: -4px 0 0 -4px;\n}\n.lds-roller div:nth-child(1) {\n  animation-delay: -0.036s;\n}\n.lds-roller div:nth-child(1):after {\n  top: 63px;\n  left: 63px;\n}\n.lds-roller div:nth-child(2) {\n  animation-delay: -0.072s;\n}\n.lds-roller div:nth-child(2):after {\n  top: 68px;\n  left: 56px;\n}\n.lds-roller div:nth-child(3) {\n  animation-delay: -0.108s;\n}\n.lds-roller div:nth-child(3):after {\n  top: 71px;\n  left: 48px;\n}\n.lds-roller div:nth-child(4) {\n  animation-delay: -0.144s;\n}\n.lds-roller div:nth-child(4):after {\n  top: 72px;\n  left: 40px;\n}\n.lds-roller div:nth-child(5) {\n  animation-delay: -0.18s;\n}\n.lds-roller div:nth-child(5):after {\n  top: 71px;\n  left: 32px;\n}\n.lds-roller div:nth-child(6) {\n  animation-delay: -0.216s;\n}\n.lds-roller div:nth-child(6):after {\n  top: 68px;\n  left: 24px;\n}\n.lds-roller div:nth-child(7) {\n  animation-delay: -0.252s;\n}\n.lds-roller div:nth-child(7):after {\n  top: 63px;\n  left: 17px;\n}\n.lds-roller div:nth-child(8) {\n  animation-delay: -0.288s;\n}\n.lds-roller div:nth-child(8):after {\n  top: 56px;\n  left: 12px;\n}\n@keyframes lds-roller {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Spinner.vue?vue&type=template&id=469b7f34&scoped=true&\"\nimport script from \"./Spinner.vue?vue&type=script&lang=js&\"\nexport * from \"./Spinner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Spinner.vue?vue&type=style&index=0&id=469b7f34&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"469b7f34\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetInfo.vue?vue&type=style&index=0&id=d60e0a44&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isLoading)?_c('Spinner',{staticClass:\"mt-5\"}):[_c('TweetInfo',{attrs:{\"initial-tweet\":_vm.tweet},on:{\"after-submit\":_vm.addTweetAfterSubmit}}),_vm._l((_vm.replies),function(reply){return _c('Messages',{key:reply.id,attrs:{\"initial-user\":_vm.user,\"initial-reply\":reply}})})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('div',{staticClass:\"tweet__info__container\"},[_c('div',{staticClass:\"tweet__info__top__wrapper\"},[_c('div',{staticClass:\"tweet__info__image_wrapper\"},[_c('router-link',{attrs:{\"to\":{name:'user-tweets', params:{id: _vm.tweet.User.id}}}},[_c('img',{staticClass:\"tweet__info__image\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.tweet.User.avatar),\"alt\":\"使用者的大頭貼\"}})])],1),_c('div',{staticClass:\"tweet__info__title__wrapper\"},[_c('router-link',{attrs:{\"to\":{name:'user-tweets', params:{id: _vm.tweet.User.id}}}},[_c('div',{staticClass:\"tweet__info__name\"},[_vm._v(\" \"+_vm._s(_vm.tweet.User.name)+\" \")]),_c('div',{staticClass:\"tweet__info__account\"},[_vm._v(\" @\"+_vm._s(_vm.tweet.User.account)+\" \")])])],1)]),_c('div',{staticClass:\"tweet__info__text__wrapper\"},[_c('div',{staticClass:\"tweet__info__text\"},[_vm._v(\" \"+_vm._s(_vm.tweet.description)+\" \")])]),_c('div',{staticClass:\"tweet__info__time__wrapper\"},[_c('div',{staticClass:\"tweet__info__date\"},[_vm._v(\" \"+_vm._s(_vm._f(\"localTime\")(_vm.tweet.createdAt))+\" \")])]),_c('div',{staticClass:\"tweet__info__reply__wrapper\"},[_c('div',{staticClass:\"tweet__info__reply__number\"},[_vm._v(\" \"+_vm._s(_vm.tweet.replyCount)+\" \"),_c('span',{staticClass:\"tweet__info__rely__text\"},[_vm._v(\"回覆\")])]),_c('div',{staticClass:\"tweet__info__like__number\"},[_vm._v(\" \"+_vm._s(_vm.tweet.likeCount)+\" \"),_c('span',{staticClass:\"tweet__info__like__text\"},[_vm._v(\"喜歡次數\")])])]),_c('div',{staticClass:\"tweet__info__icon__wrapper\"},[_c('div',{staticClass:\"tweet__info__icon__message__wrapper\",on:{\"click\":function($event){_vm.showModal = true}}},[_c('div',{staticClass:\"tweet__info__icon__message\"})]),_c('div',{staticClass:\"tweet__info__icon__like__wrapper\"},[(!_vm.tweet.isLike)?_c('div',{staticClass:\"tweet__info__icon__like\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.addLiked(_vm.tweet.id)}}}):_c('div',{staticClass:\"tweet__info__icon__like--liked\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.removeLiked(_vm.tweet.id)}}})]),(_vm.showModal)?[_c('ReplyPostModal',{attrs:{\"initial-tweet\":_vm.initialTweet},on:{\"close\":function($event){_vm.showModal = false},\"after-submit\":_vm.handleAfterSubmit}})]:_vm._e()],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"\">\n    <div class=\"tweet__info__container\">\n      <div class=\"tweet__info__top__wrapper\">\n        <div class=\"tweet__info__image_wrapper\">\n          <router-link :to=\"{name:'user-tweets', params:{id: tweet.User.id}}\">\n            <img\n              :src=\"tweet.User.avatar | emptyImage\"\n              alt=\"使用者的大頭貼\"\n              class=\"tweet__info__image\"\n            >\n          </router-link>\n        </div>\n\n        <div class=\"tweet__info__title__wrapper\">\n          <router-link :to=\"{name:'user-tweets', params:{id: tweet.User.id}}\">\n            <div class=\"tweet__info__name\">\n              {{ tweet.User.name }}\n            </div>\n            <div class=\"tweet__info__account\">\n              @{{ tweet.User.account }}\n            </div>\n          </router-link>\n        </div>\n      </div>\n      <div class=\"tweet__info__text__wrapper\">\n        <div class=\"tweet__info__text\">\n          {{ tweet.description }}\n        </div>\n      </div>\n      <div class=\"tweet__info__time__wrapper\">\n        <div class=\"tweet__info__date\">\n          {{ tweet.createdAt | localTime }}\n        </div>\n      </div>\n      <div class=\"tweet__info__reply__wrapper\">\n        <div class=\"tweet__info__reply__number\">\n          {{ tweet.replyCount }}\n          <span class=\"tweet__info__rely__text\">回覆</span>\n        </div>\n        <div class=\"tweet__info__like__number\">\n          {{ tweet.likeCount }}\n          <span class=\"tweet__info__like__text\">喜歡次數</span>\n        </div>\n      </div>\n      <div class=\"tweet__info__icon__wrapper\">\n        <div\n          class=\"tweet__info__icon__message__wrapper\"\n          @click=\"showModal = true\"\n        >\n          <div\n            class=\"tweet__info__icon__message\"\n          />\n        </div>\n        <div class=\"tweet__info__icon__like__wrapper\">\n          <div\n            v-if=\"!tweet.isLike\"\n            class=\"tweet__info__icon__like\"\n            @click.prevent.stop=\"addLiked(tweet.id)\"\n          />\n          <div\n            v-else\n            class=\"tweet__info__icon__like--liked\"\n            @click.prevent.stop=\"removeLiked(tweet.id)\"\n          />\n        </div>\n        <template\n          v-if=\"showModal\"\n        >\n          <ReplyPostModal\n            :initial-tweet=\"initialTweet\"\n            @close=\"showModal = false\"\n            @after-submit=\"handleAfterSubmit\"\n          />\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport ReplyPostModal from './../components/ReplyPostModal.vue'\nimport userAPI from './../apis/users'\nimport { localTimeFilter, emptyImageFilter } from './../utils/mixins'\n\nimport { Toast } from '../utils/helper'\nimport { mapState } from 'vuex'\nexport default {\n  components: {\n    ReplyPostModal\n  },\n  mixins: [localTimeFilter, emptyImageFilter],\n  props: {\n    initialTweet: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      showModal: false,\n      tweet: this.initialTweet\n    }\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  },\n  watch: {\n    initialTweet (newValue) {\n      this.tweet = {\n        ...this.tweet,\n        ...newValue\n      }\n    }\n  },\n  methods: {\n    handleAfterSubmit (replyData) {\n      this.$emit('after-submit', replyData.comment)\n      this.tweet.replyCount = this.tweet.replyCount + 1\n    },\n    async addLiked (tweetId) {\n      try {\n        const { data } = await userAPI.addLike({ tweetId })\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n        this.tweet.isLike = true\n        this.tweet.likeCount = this.tweet.likeCount + 1\n        // socket event\n        this.$socket.emit('reactionNotify', {\n          id: this.currentUser.id,\n          receiverId: this.tweet.User.id,\n          avatar: this.currentUser.avatar,\n          name: this.currentUser.name,\n          labelName: 'like'\n        })\n      } catch (e) {\n        console.log(e)\n        Toast.fire({\n          icon: 'error',\n          title: '喜歡貼文失敗，請稍候再試'\n        })\n      }\n    },\n    async removeLiked (tweetId) {\n      try {\n        const { data } = await userAPI.removeLike({ tweetId })\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n        console.log(data)\n\n        this.tweet.isLike = false\n        // likeCount 不能有負值\n        this.tweet.likeCount = this.tweet.likeCount > 0 ? this.tweet.likeCount -= 1 : 0\n      } catch (e) {\n        console.log(e)\n        Toast.fire({\n          icon: 'error',\n          title: '取消喜歡失敗，請稍候再試'\n        })\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n@import '../assets/scss/main.scss';\na{\n  text-decoration: none;\n}\n  .tweet__info__container {\n    width: 100%;\n    max-width: 600px;\n    margin: 0 auto;\n    padding: 0 15px 0 15px;\n    border-top: 1px solid $light-gray;\n    border-bottom: 1px solid $light-gray;\n  }\n  .tweet__info__top__wrapper {\n    display: flex;\n    align-items: center;\n    margin: 15px 0 15px 0;\n    .tweet__info__image_wrapper {\n      display: flex;\n      align-items: center;\n      margin-right: 10px;\n      .tweet__info__image {\n        width: 50px;\n        height: 50px;\n        object-fit: cover;\n        border-radius: 50%;\n      }\n    }\n  }\n  .tweet__info__name, .tweet__info__account {\n    font-size: 15px;\n    line-height: 21px;\n  }\n  .tweet__info__name {\n    font-weight: 700;\n    color: $black;\n  }\n  .tweet__info__account {\n    color: $tx-gray;\n  }\n  .tweet__info__text__wrapper {\n    margin-bottom: 15px;\n    .tweet__info__text {\n      color: $black;\n      line-height: 1.5rem;\n      font-size: 1rem;\n      word-break: break-all;\n    }\n  }\n  .tweet__info__time__wrapper {\n    display: flex;\n    color: $tx-gray;\n    font-size: 15px;\n    padding-bottom: 15px;\n    border-bottom: 1px solid $light-gray;\n  }\n  .tweet__info__reply__wrapper {\n    display: flex;\n    margin-top: 10px;\n    padding-bottom: 10px;\n    border-bottom: 1px solid $light-gray;\n    font-size: 15px;\n    .tweet__info__reply__number {\n      margin-right: 20px;\n      font-weight: bold;\n    }\n    .tweet__info__like__number {\n      font-weight: bold;\n    }\n    .tweet__info__rely__text, .tweet__info__like__text  {\n      font-weight: normal;\n      color: $tx-gray\n    }\n  }\n  .tweet__info__icon__wrapper {\n    display: flex;\n    justify-content: space-between;\n    width: auto;\n    max-width: 150px;\n    margin-top: 5px;\n    margin-bottom: 5px;\n    .tweet__info__icon__message__wrapper,\n    .tweet__info__icon__like__wrapper {\n      width: 25px;\n      height: 25px;\n      border-radius: 50%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      &:hover {\n        background: $orange;\n      }\n    }\n    .tweet__info__icon__message {\n      width: 30px;\n      height: 30px;\n      @extend %icon-style;\n      mask-image: url('./../assets/icon/icon_message.svg');\n      -webkit-mask-image: url('./../assets/icon/icon_message.svg');\n      cursor: pointer;\n      &:hover {\n        background: blue;\n        color: blue;\n      }\n    }\n    .tweet__info__icon__like {\n      width: 30px;\n      height: 30px;\n      @extend %icon-style;\n      mask-image: url('./../assets/icon/icon_like.svg');\n      -webkit-mask-image: url('./../assets/icon/icon_like.svg');\n      cursor: pointer;\n      &:hover {\n        background: #ffffff;\n      }\n    }\n    .tweet__info__icon__like--liked {\n      width: 30px;\n      height: 30px;\n      mask-size: 30px;\n      background-color: $heart-pink;\n      @extend %icon-style;\n      mask-image: url('./../assets/icon/icon_isliked.svg');\n      -webkit-mask-image: url('./../assets/icon/icon_isliked.svg');\n      cursor: pointer\n    }\n  }\n\n  @media screen and (min-width: 576px) {\n    .tweet__info__text__wrapper {\n      .tweet__info__text {\n        font-size: 23px;\n        line-height: 34px;\n      }\n    }\n    .tweet__info__reply__wrapper {\n      margin-top: 20px;\n      padding-bottom: 20px;\n      font-size: 19px;\n    }\n    .tweet__info__icon__wrapper {\n      margin-top: 20px;\n      margin-bottom: 14px;\n      max-width: 200px;\n      .tweet__info__icon__message__wrapper, .tweet__info__icon__like__wrapper {\n        width: auto;\n        height: auto;\n        border-radius: none;\n        &:hover {\n          background: inherit;\n        }\n      }\n      .tweet__info__icon__message {\n        mask-image: url('./../assets/icon/icon_reply.svg');\n        -webkit-mask-image: url('./../assets/icon/icon_reply.svg');\n        &:hover {\n          background: $light-blue;\n        }\n      }\n      .tweet__info__icon__like {\n        mask-image: url('./../assets/icon/icon_like_tweet_info.svg');\n        -webkit-mask-image: url('./../assets/icon/icon_like_tweet_info.svg');\n        &:hover {\n          background: $heart-pink;\n        }\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TweetInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TweetInfo.vue?vue&type=template&id=d60e0a44&scoped=true&\"\nimport script from \"./TweetInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./TweetInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TweetInfo.vue?vue&type=style&index=0&id=d60e0a44&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d60e0a44\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"reply\"},[_c('div',{staticClass:\"reply__avatar \"},[_c('router-link',{attrs:{\"to\":{ name:'user-tweets', params:{id:_vm.reply.User.id}}}},[_c('img',{staticClass:\"avatar-img\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.reply.User.avatar),\"alt\":\"\"}})])],1),_c('div',{staticClass:\"reply__content ml-2\"},[_c('div',{staticClass:\"reply__content__title mb-2\"},[_c('router-link',{attrs:{\"to\":{ name:'user-tweets', params:{id:_vm.reply.User.id}}}},[_c('span',{staticClass:\"reply__content__title__item user-name\"},[_vm._v(\" \"+_vm._s(_vm.reply.User.name)+\" \")])]),_c('span',{staticClass:\"reply__content__title__item\"},[_vm._v(\"@\"+_vm._s(_vm.reply.User.account))]),_c('span',{staticClass:\"reply__content__title__item\"},[_vm._v(\"·\")]),_c('span',{staticClass:\"reply__content__title__item reply__content__title__item__time\"},[_vm._v(\" \"+_vm._s(_vm._f(\"fromNow\")(_vm.reply.createdAt))+\" \")])],1),_c('div',{staticClass:\"reply__content__object\"},[_c('span',[_vm._v(\"回覆\")]),_c('span',[_vm._v(\"@\"+_vm._s(_vm.user.account))])]),_c('div',{staticClass:\"reply__content__discription\"},[_vm._v(\" \"+_vm._s(_vm.reply.comment)+\" \")])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"reply\">\n      <div class=\"reply__avatar \">\n        <router-link :to=\"{ name:'user-tweets', params:{id:reply.User.id}}\">\n          <img\n            :src=\"reply.User.avatar | emptyImage\"\n            alt=\"\"\n            class=\"avatar-img\"\n          >\n        </router-link>\n      </div>\n      <div class=\"reply__content ml-2\">\n        <div class=\"reply__content__title mb-2\">\n          <router-link :to=\"{ name:'user-tweets', params:{id:reply.User.id}}\">\n            <span class=\"reply__content__title__item user-name\">\n              {{ reply.User.name }}\n            </span>\n          </router-link>\n          <span class=\"reply__content__title__item\">@{{ reply.User.account }}</span>\n          <span class=\"reply__content__title__item\">·</span>\n          <span\n            class=\"reply__content__title__item reply__content__title__item__time\"\n          >\n            {{ reply.createdAt|fromNow }}\n          </span>\n        </div>\n        <div class=\"reply__content__object\">\n          <span>回覆</span>\n          <span>@{{ user.account }}</span>\n        </div>\n        <div class=\"reply__content__discription\">\n          {{ reply.comment }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n@import '../assets/scss/main.scss';\na{\n  text-decoration: none;\n}\n.liked {\n  color: $heart-pink;\n}\n\n.reply {\n  display: grid;\n  grid-template-columns: 50px 1fr;\n  width: 600px;\n  border-bottom: solid 1px $light-gray;\n  padding: 15px;\n  margin-top: -1px;\n  &__content {\n    &__title {\n      color: $tx-gray;\n      &__item {\n        cursor: default;\n        &:nth-child(2) {\n          margin-right: 3px;\n        }\n        &__time {\n          font-size: 14px;\n          margin-left: -1px;\n        }\n      }\n    }\n    &__discription {\n      line-height: 21px;\n      word-break: break-all;\n      @include text-style(15px, 400, $black);\n    }\n    &__object{\n      line-height: 21px;\n      margin: 5px 0;\n      color: $tx-gray;\n      span:nth-child(2){\n        color: $orange;\n        margin-left: 4px;\n      }\n    }\n  }\n}\n</style>\n\n<script>\nimport { fromNowFilter, emptyImageFilter } from './../utils/mixins'\nexport default {\n  mixins: [fromNowFilter, emptyImageFilter],\n  props: {\n    initialUser: {\n      type: Object,\n      required: true\n    },\n    initialReply: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      repliedAccount: 'apple',\n      user: this.initialUser,\n      reply: this.initialReply\n    }\n  },\n  watch: {\n    initialUser (newValue) {\n      this.user = {\n        ...this.user,\n        ...newValue\n      }\n    },\n    initialReply (newValue) {\n      this.reply = {\n        ...this.reply,\n        ...newValue\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Messages.vue?vue&type=template&id=3691d7bf&scoped=true&\"\nimport script from \"./Messages.vue?vue&type=script&lang=js&\"\nexport * from \"./Messages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Messages.vue?vue&type=style&index=0&id=3691d7bf&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3691d7bf\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <Spinner\n      v-if=\"isLoading\"\n      class=\"mt-5\"\n    />\n    <template v-else>\n      <TweetInfo\n        :initial-tweet=\"tweet\"\n        @after-submit=\"addTweetAfterSubmit\"\n      />\n      <Messages\n        v-for=\"reply in replies\"\n        :key=\"reply.id\"\n        :initial-user=\"user\"\n        :initial-reply=\"reply\"\n      />\n    </template>\n  </div>\n</template>\n<script>\nimport TweetInfo from './../components/TweetInfo.vue'\nimport Messages from './../components/Messages.vue'\nimport tweetAPI from './../apis/tweets'\nimport { mapState } from 'vuex'\nimport Spinner from './../components/Spinner.vue'\nimport { Toast } from '../utils/helper'\n\nexport default {\n  components: {\n    TweetInfo,\n    Messages,\n    Spinner\n  },\n  data () {\n    return {\n      tweet: {},\n      replies: [],\n      user: {\n        id: '',\n        account: ''\n      },\n      isLoading: true\n    }\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  },\n  created () {\n    const { id: tweetId } = this.$route.params\n    this.fetchData(tweetId)\n    this.fetchReplies(tweetId)\n  },\n  beforeRouteUpdate (to, from, next) {\n    const { id } = to.params\n    this.fetchData(id)\n    this.fetchReplies(id)\n    next()\n  },\n  methods: {\n    async fetchData (tweetId) {\n      try {\n        this.isLoading = true\n        const { data } = await tweetAPI.getATweet({ tweetId })\n        this.tweet = data\n        this.user.id = data.User.id\n        this.user.account = data.User.account\n        this.isLoading = false\n      } catch (error) {\n        console.log('error', error)\n        Toast.fire({\n          icon: 'error',\n          title: '目前無法讀取該則推文，請稍後再試'\n        })\n      }\n    },\n    async fetchReplies (tweetId) {\n      try {\n        this.isLoading = true\n        const { data } = await tweetAPI.getReplies({ tweetId })\n        this.replies = data\n        this.isLoading = false\n      } catch (error) {\n        console.log('error', error)\n      }\n    },\n    addTweetAfterSubmit (data) {\n      this.replies.unshift({\n        comment: data,\n        createdAt: new Date(),\n        User: {\n          account: this.currentUser.account,\n          name: this.currentUser.name,\n          avatar: this.currentUser.avatar\n        }\n      })\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailTweet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailTweet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailTweet.vue?vue&type=template&id=58240841&\"\nimport script from \"./DetailTweet.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailTweet.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=style&index=0&id=3691d7bf&lang=scss&scoped=true&\""],"sourceRoot":""}