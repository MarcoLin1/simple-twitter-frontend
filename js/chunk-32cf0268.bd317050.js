(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32cf0268"],{"170c":function(e,t,r){"use strict";r("69d6")},"1cf5":function(e,t,r){},2375:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"spin"},[r("div",{staticClass:"lds-roller"},[r("div"),r("div"),r("div"),r("div"),r("div"),r("div"),r("div"),r("div")])])}],a={},i=a,o=(r("170c"),r("2877")),c=Object(o["a"])(i,n,s,!1,null,"469b7f34",null);t["a"]=c.exports},"4eec":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main__container"},[r("div",{staticClass:"left__container"},[r("SideNavbar",{on:{"after-side-submit":e.handleAfterSubmit}})],1),r("div",{staticClass:"right__container"},[r("div",{staticClass:"middle__wrapper"},[e.isLoading?r("Spinner"):[r("TopNavbar",{attrs:{"current-page":"/mainpage"===e.$route.path.slice(0,9)?"首頁":"推文","initial-name":e.name,"initial-user-tweets-length":e.userTweetsLength}}),r("UserFollowItem",{staticClass:"follow-wrapper"}),r("router-view",{attrs:{"initial-followings":e.followings,"initial-followers":e.followers},on:{"update-follow-data":e.followStatus,"update-follower-data":e.addFollowStatus}})]],2),r("div",{staticClass:"right__wrapper"},[r("TopUsersList",{attrs:{"top-users":e.topUsers},on:{"update-data":e.handleNewData,"update-remove-data":e.handleRemoveData}})],1)])])},s=[],a=r("1da1"),i=r("5530"),o=(r("4de4"),r("b0c0"),r("96cf"),r("e161")),c=r("ab58"),l=r("6c83"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"users__list__top__navbar__container"},[r("div",{staticClass:"users__list__item__wrapper"},[r("div",{staticClass:"users__list__item"},[r("router-link",{staticClass:"users__list__item__button",class:{checked:e.$route.path.includes("followers")},attrs:{to:{name:"user-followers"},type:"button"}},[e._v(" 跟隨者 ")])],1),r("div",{staticClass:"users__list__item"},[r("router-link",{staticClass:"users__list__item__button",class:{checked:e.$route.path.includes("followings")},attrs:{to:{name:"user-followings"},type:"button"}},[e._v(" 正在跟隨 ")])],1)])])},f=[],d=(r("cf511"),r("2877")),w={},h=Object(d["a"])(w,u,f,!1,null,"1b78610e",null),p=h.exports,v=r("4cce"),g=r("c968"),m=r("2f62"),_=r("2375"),b={name:"UserFollowPage",components:{SideNavbar:o["a"],TopUsersList:c["a"],TopNavbar:l["a"],Spinner:_["a"],UserFollowItem:p},data:function(){return{topUsers:[],name:"",userTweetsLength:"",isLoading:!0,followings:{Followings:{name:"",account:"",avatar:"",id:-1,isFollowing:!1,introduction:""}},followers:{Followers:{name:"",account:"",avatar:"",id:-1,isFollowing:!1,introduction:""}}}},computed:Object(i["a"])({},Object(m["b"])(["currentUser"])),beforeRouteUpdate:function(e,t,r){var n=e.params.id;this.fetchUserData(n),this.fetchUser(n),this.fetchFollowingUser(n),this.fetchFollowerUser(n),r()},created:function(){var e=this.$route.params.id;this.fetchTopUser(),this.fetchUserData(e),this.fetchUser(e),this.fetchFollowingUser(e),this.fetchFollowerUser(e)},methods:{handleNewData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v["a"].getUserFollowing({userId:e.currentUser.id});case 3:r=t.sent,n=r.data,e.followings=n,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},handleRemoveData:function(e){this.followings=this.followings.filter((function(t){return t.followingId!==e})),this.followers=this.followers.filter((function(t){t.followerId===e&&(t.Followers.isFollowing=!1)}))},removeFollowerStatus:function(e){this.topUsers.filter((function(t){t.id===e&&(t.isFollowing=!1)})),console.log("這是follow status",e)},addFollowStatus:function(e){this.fetchTopUser()},removeFollowingStatus:function(e){this.fetchTopUser()},fetchFollowingUser:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v["a"].getUserFollowing({userId:e});case 3:n=r.sent,s=n.data,t.followings=s,r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0),g["a"].fire({icon:"error",title:"資料讀取失敗，請稍候再試"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()},fetchFollowerUser:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v["a"].getUserFollowers({userId:e});case 3:n=r.sent,s=n.data,t.followers=s,r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()},fetchTopUser:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v["a"].getTopUsers();case 3:r=t.sent,n=r.data,e.topUsers=n,t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0),g["a"].fire({icon:"error",title:"TopUser讀取失敗"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},fetchUserData:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.isLoading=!0,r.next=4,v["a"].getUserTweets({userId:e});case 4:n=r.sent,s=n.data,t.userTweetsLength=s.length,t.isLoading=!1,r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0),t.isLoading=!1;case 14:case"end":return r.stop()}}),r,null,[[0,10]])})))()},fetchUser:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,t.isLoading=!0,r.next=4,v["a"].getUser({userId:e});case 4:n=r.sent,s=n.data,t.name=s.name,t.isLoading=!1,r.next=15;break;case 10:r.prev=10,r.t0=r["catch"](0),console.log(r.t0),t.isLoading=!1,g["a"].fire({icon:"error",title:"user頁面資料讀取失敗"});case 15:case"end":return r.stop()}}),r,null,[[0,10]])})))()},handleAfterSubmit:function(e){this.newTweet=e,this.$emit("after-side-submit",e)}}},U=b,F=(r("f0d2"),Object(d["a"])(U,n,s,!1,null,"41b730da",null));t["default"]=F.exports},"69d6":function(e,t,r){},cf511:function(e,t,r){"use strict";r("cf63")},cf63:function(e,t,r){},f0d2:function(e,t,r){"use strict";r("1cf5")}}]);
//# sourceMappingURL=chunk-32cf0268.bd317050.js.map