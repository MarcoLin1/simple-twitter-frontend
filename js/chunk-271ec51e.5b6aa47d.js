(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-271ec51e"],{a4d4:function(e,t,a){"use strict";a("d65b")},a547:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-container"},[a("div",{staticClass:"left-content"},[a("SideNavbar",{on:{"after-side-submit":e.handleAfterSubmit}})],1),a("div",{staticClass:"right-wrapper"},[a("div",{staticClass:"middle-content"},[a("TopNavbar",{attrs:{"current-page":"/mainpage"===e.$route.path.slice(0,9)?"首頁":"推文","initial-name":e.name,"initial-user-tweets-length":e.userTweetsLength}}),a("router-view",{attrs:{"new-tweet":e.newTweet}})],1),a("div",{staticClass:"right-content"},[a("TopUsersList",{attrs:{"top-users":e.topUsers}})],1)])])},n=[],s=a("1da1"),i=(a("b0c0"),a("96cf"),a("e161")),c=a("ab58"),o=a("6c83"),u=a("4cce"),p=a("c968"),d={components:{SideNavbar:i["a"],TopUsersList:c["a"],TopNavbar:o["a"]},data:function(){return{topUsers:[],name:"",userTweetsLength:"",newTweet:{}}},beforeRouteUpdate:function(e,t,a){var r=e.params.id;this.fetchUserData(r),a()},created:function(){var e=this.$route.params.id;this.fetchTopUser(),this.fetchUserData(e)},methods:{fetchTopUser:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,u["a"].getTopUsers();case 4:a=t.sent,r=a.data,e.topUsers=r,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0),p["a"].fire({icon:"error",title:"TopUser讀取失敗"});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))()},fetchUserData:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u["a"].getUserTweets({userId:e});case 3:r=a.sent,n=r.data,t.name=n[0].User.name,t.userTweetsLength=n.length,a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})))()},handleAfterSubmit:function(e){this.newTweet=e,this.$emit("after-side-submit",e)}}},h=d,l=(a("a4d4"),a("2877")),f=Object(l["a"])(h,r,n,!1,null,"56d5ae06",null);t["default"]=f.exports},d65b:function(e,t,a){}}]);
//# sourceMappingURL=chunk-271ec51e.5b6aa47d.js.map