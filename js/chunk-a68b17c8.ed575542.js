(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a68b17c8"],{"04cb":function(t,e,a){"use strict";a("d63b")},"05b2":function(t,e,a){"use strict";a("6089")},"408b":function(t,e,a){"use strict";a("75cb")},"4ef5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main_container"},[a("div",{staticClass:"setting__form__wrapper"},[a("div",{staticClass:"setting__top__navbar__wrapper"},[a("TopNavbar",{attrs:{"current-page":t.currentPage,"user-data":t.currentUser,"user-tweets-length":t.userTweetsLength}})],1),a("AccountDetailForm",{on:{"after-submit":t.handleAfterSubmit}})],1)])},r=[],n=a("1da1"),i=a("5530"),c=(a("96cf"),a("6c83")),o=a("fe60"),u=a("c968"),l=a("4cce"),_=a("2f62"),p={components:{TopNavbar:c["a"],AccountDetailForm:o["a"]},data:function(){return{currentPage:"帳戶設定",userData:[],userTweetsLength:""}},computed:Object(i["a"])({},Object(_["b"])(["currentUser"])),methods:{handleAfterSubmit:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var s,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,l["a"].settingUpdate({userId:e.currentUser.id,formData:t});case 3:if(s=a.sent,r=s.data,"success"===r.status){a.next=7;break}throw new Error(r.message);case 7:e.$router.push({name:"main-page"}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log(a.t0),u["a"].fire({icon:"error",title:"資料更新失敗"});case 14:case"end":return a.stop()}}),a,null,[[0,10]])})))()}}},d=p,m=(a("05b2"),a("2877")),v=Object(m["a"])(d,s,r,!1,null,"1477ff80",null);e["default"]=v.exports},6089:function(t,e,a){},"6c83":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"top-navbar-container"},[t.$route.path.includes("user")||t.$route.path.includes("detail")||"mobile"!==t.screenSize?t._e():a("div",{staticClass:"menu__wrapper",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.showMenu=!0}}},[a("div",{staticClass:"menu-btn"})]),!t.showMenu||t.$route.path.includes("user")||t.$route.path.includes("detail")?t._e():a("MobileSideNavbar",{staticClass:"side-bar",on:{close:function(e){t.showMenu=!1}}}),"/user"===t.$route.path.slice(0,5)||"/detail"===t.$route.path.slice(0,7)?a("div",{staticClass:"top-navbar-wrapper"},[a("div",{staticClass:"top-navbar-icon",on:{click:function(e){return t.$router.go(-1)}}},[a("span",[t._v(" ←")])]),a("div",{staticClass:"top-navbar-name"},[t._v(" "+t._s(t.name)+" "),a("div",{staticClass:"top-navbar-text",class:{"text-title":!t.userTweetsLength&&0!==t.userTweetsLength}},[t._v(" "+t._s(t.userTweetsLength)+"推文 ")])])]):a("div",{staticClass:"top-navbar-title"},["/detail"===t.$route.path.slice(0,7)?a("div",{staticClass:"top-nav-title-icon"},[a("span",[t._v(" ←")])]):t._e(),a("div",{staticClass:"top-navbar-title-text"},[t._v(" "+t._s("/notifications"===t.$route.path.slice(0,14)?"通知":t.currentPage)+" ")])])],1)},r=[],n=a("5530"),i=(a("a9e3"),a("b0c0"),a("2f62")),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"background"},[a("div",{staticClass:"side-navbar-container"},[a("div",{staticClass:"nav-item-container"},[a("div",{staticClass:"logo-wrapper"},[a("router-link",{attrs:{to:{name:"user-tweets",params:{id:t.currentUser.id}}}},[a("div",{staticClass:"side-navbar__image"},[a("img",{staticClass:"avatar-img",attrs:{src:t._f("emptyImage")(t.currentUser.avatar),alt:""}}),a("div",{staticClass:"side-navbar__name"},[t._v(" Hi "+t._s(t.currentUser.name)+"！ ")])])]),a("svg",{staticClass:"close-btn",attrs:{viewBox:"0 0 24 24","aria-hidden":"true"},on:{click:function(e){return t.$emit("close")}}},[a("g",[a("path",{attrs:{d:"M13.414 12l5.793-5.793c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0L12 10.586 6.207 4.793c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414L10.586 12l-5.793 5.793c-.39.39-.39 1.023 0 1.414.195.195.45.293.707.293s.512-.098.707-.293L12 13.414l5.793 5.793c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L13.414 12z"}})])])],1),t.$route.path.includes("admin")?t._e():[a("router-link",{staticClass:"side-navbar-item",class:{selected:this.$route.path.includes("mainpage")},attrs:{to:"/mainpage"},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("close")}}},[a("div",{staticClass:"icon-wrapper icon-main-wrapper"}),a("div",{staticClass:"content"},[t._v(" 首頁 ")])]),a("router-link",{staticClass:"side-navbar-item",class:{selected:this.$route.path.includes("notifications")},attrs:{to:"/notifications"},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("close")}}},[a("div",{staticClass:"icon-wrapper icon-notify-wrapper"}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.subscribeNotification,expression:"subscribeNotification"}],staticClass:"notify-color-point"}),a("div",{staticClass:"content"},[t._v(" 通知 ")])]),a("router-link",{staticClass:"side-navbar-item",class:{selected:this.$route.path.includes("publicchat")},attrs:{to:"/publicchat"},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("close")}}},[a("div",{staticClass:"icon-wrapper icon-group-wrapper"}),a("div",{staticClass:"content"},[t._v(" 公開聊天室 ")])]),a("router-link",{staticClass:"side-navbar-item",class:{selected:this.$route.path.includes("privatechat")},attrs:{to:"/privatechat"},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("close")}}},[a("div",{staticClass:"icon-wrapper icon-mail-wrapper"}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.getPrivateNotify,expression:"getPrivateNotify"}],staticClass:"notify-point"},[t._v(" "+t._s(t.getPrivateNotifyCount)+" ")]),a("div",{staticClass:"content"},[t._v(" 私人訊息 ")])]),a("router-link",{staticClass:"side-navbar-item",class:{selected:this.$route.path.includes("/tweets")},attrs:{to:{name:"user-tweets",params:{id:t.currentUser.id}}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("close")}}},[a("div",{staticClass:"icon-wrapper icon-user-wrapper"}),a("div",{staticClass:"content"},[t._v(" 個人資料 ")])]),a("router-link",{staticClass:"side-navbar-item",class:{selected:this.$route.path.includes("/setting")},attrs:{to:"/setting"},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("close")}}},[a("div",{staticClass:"icon-wrapper icon-setting-wrapper"}),a("div",{staticClass:"content"},[t._v(" 設定 ")])])]],2),a("div",{staticClass:"bottom-item-container",on:{click:t.logout}},[t._m(0)])])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"side-navbar-logout-wrapper"},[a("div",{staticClass:"icon-wrapper icon-logout-wrapper"}),a("div",{staticClass:"content"},[t._v(" 登出 ")])])}],u=a("2708"),l={mixins:[u["a"]],props:{openMenu:{type:Boolean,default:!1}},data:function(){return{newTweet:{}}},computed:Object(n["a"])({},Object(i["b"])(["currentUser","getPrivateNotify","getPrivateNotifyCount","subscribeNotification"])),methods:{logout:function(){console.log("logout"),this.$store.commit("revokeAuthentication"),this.$socket.disconnect(),this.$router.push("/login")},handleAfterSubmit:function(t){this.newTweet=t,this.$emit("after-side-submit",t)}}},_=l,p=(a("feab"),a("2877")),d=Object(p["a"])(_,c,o,!1,null,"f71d9454",null),m=d.exports,v={components:{MobileSideNavbar:m},props:{currentPage:{type:String,required:!0},initialName:{type:[Number,String],default:""},initialUserTweetsLength:{type:[Number,String],default:0}},data:function(){return{name:this.initialName,userTweetsLength:this.initialUserTweetsLength,showMenu:!1}},computed:Object(n["a"])({},Object(i["b"])(["screenSize"])),watch:{initialName:function(t){this.name=t},initialUserTweetsLength:function(t){this.userTweetsLength=t}}},w=v,f=(a("04cb"),Object(p["a"])(w,s,r,!1,null,"3e690951",null));e["a"]=f.exports},"75cb":function(t,e,a){},b9c6:function(t,e,a){},d63b:function(t,e,a){},fb6a:function(t,e,a){"use strict";var s=a("23e7"),r=a("861d"),n=a("e8b5"),i=a("23cb"),c=a("50c4"),o=a("fc6a"),u=a("8418"),l=a("b622"),_=a("1dde"),p=_("slice"),d=l("species"),m=[].slice,v=Math.max;s({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var a,s,l,_=o(this),p=c(_.length),w=i(t,p),f=i(void 0===e?p:e,p);if(n(_)&&(a=_.constructor,"function"!=typeof a||a!==Array&&!n(a.prototype)?r(a)&&(a=a[d],null===a&&(a=void 0)):a=void 0,a===Array||void 0===a))return m.call(_,w,f);for(s=new(void 0===a?Array:a)(v(f-w,0)),l=0;w<f;w++,l++)w in _&&u(s,l,_[w]);return s.length=l,s}})},fe60:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"account__detail__form__container"},[a("form",{staticClass:"account__detail__form__wrapper",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[a("div",{staticClass:"account__detail__form__table"},[a("div",{staticClass:"account__detail__form__group"},[a("span",{staticClass:"account__detail__form__group__title"},[t._v(" 帳號 ")]),"/signup"===t.$route.path.slice(0,7)?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.account,expression:"newUser.account"},{name:"focus",rawName:"v-focus"}],staticClass:"account__detail__account account__detail__form__control",attrs:{id:"account",required:"",type:"text"},domProps:{value:t.newUser.account},on:{input:function(e){e.target.composing||t.$set(t.newUser,"account",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUser.account,expression:"currentUser.account"}],staticClass:"account__detail__account account__detail__form__control",attrs:{id:"account",type:"text"},domProps:{value:t.currentUser.account},on:{input:function(e){e.target.composing||t.$set(t.currentUser,"account",e.target.value)}}})]),a("div",{staticClass:"account__detail__form__group"},[a("span",{staticClass:"account__detail__form__group__title"},[t._v(" 名稱 ")]),"/signup"===t.$route.path.slice(0,7)?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.name,expression:"newUser.name"}],staticClass:"account__detail__name account__detail__form__control",attrs:{id:"name",required:"",type:"text"},domProps:{value:t.newUser.name},on:{input:function(e){e.target.composing||t.$set(t.newUser,"name",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUser.name,expression:"currentUser.name"}],staticClass:"account__detail__name account__detail__form__control",attrs:{id:"name",type:"text"},domProps:{value:t.currentUser.name},on:{input:function(e){e.target.composing||t.$set(t.currentUser,"name",e.target.value)}}})]),a("div",{staticClass:"account__detail__form__group"},[a("span",{staticClass:"account__detail__form__group__title"},[t._v(" Email ")]),"/signup"===t.$route.path.slice(0,7)?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.email,expression:"newUser.email"}],staticClass:"account__detail__email account__detail__form__control",attrs:{id:"email",required:"",type:"email"},domProps:{value:t.newUser.email},on:{input:function(e){e.target.composing||t.$set(t.newUser,"email",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUser.email,expression:"currentUser.email"}],staticClass:"account__detail__email account__detail__form__control",attrs:{id:"email",type:"email"},domProps:{value:t.currentUser.email},on:{input:function(e){e.target.composing||t.$set(t.currentUser,"email",e.target.value)}}})]),a("div",{staticClass:"account__detail__form__group"},[a("span",{staticClass:"account__detail__form__group__title"},[t._v(" 密碼 ")]),"/signup"===t.$route.path.slice(0,7)?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.password,expression:"newUser.password"}],staticClass:"account__detail__password account__detail__form__control",attrs:{id:"password",required:"",type:"password"},domProps:{value:t.newUser.password},on:{input:function(e){e.target.composing||t.$set(t.newUser,"password",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUser.password,expression:"currentUser.password"}],staticClass:"account__detail__password account__detail__form__control",attrs:{id:"password",type:"password"},domProps:{value:t.currentUser.password},on:{input:function(e){e.target.composing||t.$set(t.currentUser,"password",e.target.value)}}})]),a("div",{staticClass:"account__detail__form__group"},[a("span",{staticClass:"account__detail__form__group__title"},[t._v(" 密碼確認 ")]),"/signup"===t.$route.path.slice(0,7)?a("input",{directives:[{name:"model",rawName:"v-model",value:t.newUser.checkPassword,expression:"newUser.checkPassword"}],staticClass:"account__detail__check__password account__detail__form__control",attrs:{id:"check__password",required:"",type:"password"},domProps:{value:t.newUser.checkPassword},on:{input:function(e){e.target.composing||t.$set(t.newUser,"checkPassword",e.target.value)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.currentUser.checkPassword,expression:"currentUser.checkPassword"}],staticClass:"account__detail__check__password account__detail__form__control",attrs:{id:"check__password",type:"password"},domProps:{value:t.currentUser.checkPassword},on:{input:function(e){e.target.composing||t.$set(t.currentUser,"checkPassword",e.target.value)}}})]),"/setting"===t.$route.path.slice(0,8)?a("div",{staticClass:"account__detail__save__button__wrapper"},[a("button",{staticClass:"account__detail__save__button",attrs:{type:"submit",disabled:t.isProcessing}},[t._v(" "+t._s(t.isProcessing?"處理中":"儲存")+" ")])]):a("div",{staticClass:"account__detail__register__button__wrapper"},[a("button",{staticClass:"account__detail__register__button",attrs:{type:"submit",disabled:t.isProcessing}},[t._v(" "+t._s(t.isProcessing?"處理中":"註冊")+" ")]),a("router-link",{staticClass:"account__detail__register__text",attrs:{to:"/login"}},[t._v(" 取消 ")])],1)])])])},r=[],n=a("1da1"),i=a("5530"),c=(a("96cf"),a("fb6a"),a("b0c0"),a("caad"),a("2532"),a("c968")),o=a("2f62"),u={props:{isProcessing:{type:Boolean}},data:function(){return{newUser:{id:-1,name:"",account:"",password:"",checkPassword:""}}},computed:Object(i["a"])({},Object(o["b"])(["currentUser"])),methods:{handleSubmit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"/signup"!==t.$route.path.slice(0,7)){e.next=12;break}if(t.newUser.name&&t.newUser.account&&t.newUser.password&&t.newUser.checkPassword){e.next=5;break}return c["a"].fire({icon:"warning",title:"請確認所有欄位皆已填寫"}),e.abrupt("return");case 5:if(t.newUser.password===t.newUser.checkPassword){e.next=10;break}return c["a"].fire({icon:"warning",title:"兩次密碼輸入不相符，請重新輸入"}),t.newUser.password="",t.newUser.checkPassword="",e.abrupt("return");case 10:e.next=21;break;case 12:if(!t.$route.path.includes("/setting")){e.next=21;break}if(t.currentUser.name&&t.currentUser.account&&t.currentUser.password&&t.currentUser.checkPassword){e.next=16;break}return c["a"].fire({icon:"warning",title:"請確認所有欄位皆已填寫"}),e.abrupt("return");case 16:if(t.currentUser.password===t.currentUser.checkPassword){e.next=21;break}return c["a"].fire({icon:"warning",title:"兩次密碼輸入不相符，請重新輸入"}),t.newUser.password="",t.newUser.checkPassword="",e.abrupt("return");case 21:t.$emit("after-submit",t.currentUser),t.$emit("after-register",t.newUser),e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](0),console.log(e.t0),c["a"].fire({icon:"error",title:"資料修改失敗，請稍候再試"});case 29:case"end":return e.stop()}}),e,null,[[0,25]])})))()}}},l=u,_=(a("408b"),a("2877")),p=Object(_["a"])(l,s,r,!1,null,"35ed4a18",null);e["a"]=p.exports},feab:function(t,e,a){"use strict";a("b9c6")}}]);
//# sourceMappingURL=chunk-a68b17c8.ed575542.js.map