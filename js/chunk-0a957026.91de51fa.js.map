{"version":3,"sources":["webpack:///./src/components/OnlineUser.vue?c381","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./src/components/OnlineUser.vue?ff6a","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./src/views/PublicChat.vue?b67e","webpack:///./src/components/OnlineUser.vue?7a09","webpack:///src/components/OnlineUser.vue","webpack:///./src/components/OnlineUser.vue?fd96","webpack:///./src/components/OnlineUser.vue","webpack:///./src/components/ChatRoom.vue?7b2c","webpack:///src/components/ChatRoom.vue","webpack:///./src/components/ChatRoom.vue?8417","webpack:///./src/components/ChatRoom.vue","webpack:///src/views/PublicChat.vue","webpack:///./src/views/PublicChat.vue?67b4","webpack:///./src/views/PublicChat.vue","webpack:///./src/views/PublicChat.vue?af66","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./src/apis/chat.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./src/components/ChatRoom.vue?da36","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_arrayWithoutHoles","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","from","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","_nonIterableSpread","TypeError","_toConsumableArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","$","$trim","trim","forcedStringTrimMethod","target","proto","forced","this","bind","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","toLength","createProperty","getIteratorMethod","module","exports","arrayLike","result","step","next","value","O","C","argumentsLength","arguments","mapfn","undefined","mapping","iteratorMethod","index","done","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","users","messages","staticRenderFns","_v","_s","initialUsers","_l","user","key","id","params","avatar","account","props","type","required","data","watch","component","on","$event","stopPropagation","preventDefault","handleSubmit","apply","_m","ref","messageId","isOnline","_e","currentUser","_f","content","createdAt","directives","rawName","expression","domProps","composing","message","mixins","allData","computed","created","scrollToEnd","console","log","$refs","main","mounted","updated","methods","$socket","emit","icon","title","scrollTop","scrollHeight","components","OnlineUser","ChatRoom","beforeRouteUpdate","connect","beforeDestroy","destroyed","historyMessage","sockets","disconnect","userConnected","push","userDisconnected","chatMessage","fails","isObject","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","spreadable","FORCED","arg","k","E","A","anObject","iteratorClose","fn","ENTRIES","error","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","stat","whitespaces","non","METHOD_NAME","defineWellKnownSymbol","getPrivateUsers","userId","apiHelper","get","isPrivate","listenerId","DESCRIPTORS","global","has","defineProperty","f","copyConstructorProperties","NativeSymbol","description","EmptyStringDescriptionStore","SymbolWrapper","String","symbolPrototype","symbolToString","native","regexp","configurable","symbol","valueOf","string","desc","replace","toAbsoluteIndex","toIndexedObject","HAS_SPECIES_SUPPORT","SPECIES","nativeSlice","max","Math","start","end","Constructor","fin"],"mappings":"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","file":"js/chunk-0a957026.91de51fa.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnlineUser.vue?vue&type=style&index=1&id=ac206358&lang=scss&scoped=true&\"","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnlineUser.vue?vue&type=style&index=0&id=ac206358&lang=scss&scoped=true&\"","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main_container\"},[_c('div',{staticClass:\"middle__content\"},[_c('OnlineUser',{attrs:{\"initial-users\":_vm.users}})],1),_c('div',{staticClass:\"right__content\"},[_c('ChatRoom',{attrs:{\"messages\":_vm.messages}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"online_container\"},[_c('div',{staticClass:\"online_container__title\"},[_vm._v(\" 上線使用者 (\"+_vm._s(_vm.initialUsers.length || 0)+\") \")]),_vm._l((_vm.initialUsers),function(user){return _c('div',{key:user.id,staticClass:\"online_container__list\"},[_c('router-link',{attrs:{\"to\":{ name:'user-tweets', params:{id: user.id} }}},[_c('div',{staticClass:\"online_container__list__avatar\"},[_c('img',{staticClass:\"avatar-img\",attrs:{\"src\":user.avatar,\"alt\":\"\"}})])]),_c('div',{staticClass:\"online_container__list__info\"},[_c('span',{staticClass:\"online_container__list__info__name user-name\"},[_vm._v(_vm._s(user.name))]),_c('span',{staticClass:\"online_container__list__info__account\"},[_vm._v(\"@\"+_vm._s(user.account))])])],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"online_container\">\n    <div\n      class=\"online_container__title\"\n    >\n      上線使用者 ({{ initialUsers.length || 0 }})\n    </div>\n    <div\n      v-for=\"user in initialUsers\"\n      :key=\"user.id\"\n      class=\"online_container__list\"\n    >\n      <router-link :to=\"{ name:'user-tweets', params:{id: user.id} }\">\n        <div class=\"online_container__list__avatar\">\n          <img\n            :src=\"user.avatar\"\n            alt=\"\"\n            class=\"avatar-img\"\n          >\n        </div>\n      </router-link>\n      <div class=\"online_container__list__info\">\n        <span class=\"online_container__list__info__name user-name\">{{ user.name }}</span>\n        <span class=\"online_container__list__info__account\">@{{ user.account }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n@import '../assets/scss/main.scss';\n.online_container{\n  min-height: 100vh;\n  width: 100%;\n  &__title{\n    height: 55px;\n    line-height: 55px;\n    @include text-style(18px, 700, $black);\n    padding: 0  15px;\n    border-bottom: 1px solid $light-gray;\n\n  }\n  &__list{\n    display: flex;\n    padding: 15px;\n    align-items: center;\n    border-bottom: 1px solid $light-gray;\n    &__info{\n      cursor: default;\n      margin: 0 10px;\n      @include text-style(15px, 700, $black);\n      &__name{\n        cursor: default;\n      }\n      &__account{\n        cursor: default;\n        margin-left: 6px;\n        color: $tx-gray;\n      }\n    }\n  }\n}\n</style>\n<script>\nexport default {\n  name: 'OnlineUser',\n  props: {\n    initialUsers: {\n      type: Array,\n      required: true\n    }\n  },\n  data () {\n    return {\n      users: this.initialUsers\n    }\n  },\n  watch: {\n    initialUsers (newValue) {\n      this.users = [\n        ...this.users,\n        ...newValue\n      ]\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@media screen and (max-width: 768px) {\n  .online_container__title {\n    min-width: 150px;\n    font-size: 1rem;\n  }\n  .online_container__list {\n    display: block;\n    &__avatar {\n      display: flex;\n      justify-content: center;\n    }\n  }\n  .online_container__list__info {\n    text-align: center;\n    margin-top: 5px;\n    &__account {\n      display: none;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnlineUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnlineUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OnlineUser.vue?vue&type=template&id=ac206358&scoped=true&\"\nimport script from \"./OnlineUser.vue?vue&type=script&lang=js&\"\nexport * from \"./OnlineUser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OnlineUser.vue?vue&type=style&index=0&id=ac206358&lang=scss&scoped=true&\"\nimport style1 from \"./OnlineUser.vue?vue&type=style&index=1&id=ac206358&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ac206358\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{attrs:{\"action\":\"\"},on:{\"submit\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"chat__room__container\"},[_vm._m(0),_c('div',{ref:\"main\",staticClass:\"chat__room__main__wrapper\"},_vm._l((_vm.allData),function(data){return _c('div',{key:data.messageId},[(data.isOnline === 1)?_c('div',{staticClass:\"chat__room__main__info__wraaper\"},[_c('div',{staticClass:\"chat__room__info\"},[_c('div',{staticClass:\"chat__room__info__text\"},[_vm._v(\" \"+_vm._s(data.name)+\" 上線囉 \")])])]):_vm._e(),(data.id)?_c('div',{staticClass:\"chat__room__message__wrapper\"},[(data.id !== _vm.currentUser.id)?_c('div',{staticClass:\"chat__room__left__wrapper\"},[_c('div',{staticClass:\"chat__room__user\"},[_c('img',{staticClass:\"user__image\",attrs:{\"src\":_vm._f(\"emptyImage\")(data.avatar),\"alt\":\"\"}}),_c('div',{staticClass:\"chat__room__text__container\"},[_c('div',{staticClass:\"chat__room__text__wrapper\"},[_c('div',{staticClass:\"chat__room__text\"},[_vm._v(\" \"+_vm._s(data.content)+\" \")])]),_c('div',{staticClass:\"chat__room__time\"},[_vm._v(\" \"+_vm._s(_vm._f(\"shortenTime\")(data.createdAt))+\" \")])])])]):_vm._e(),(data.id === _vm.currentUser.id)?_c('div',{staticClass:\"chat__room__right__wrapper\"},[_c('div',{staticClass:\"chat__room__right__text__wrapper\"},[_c('div',{staticClass:\"chat__room__right__text\"},[_vm._v(\" \"+_vm._s(data.content)+\" \")])]),_c('div',{staticClass:\"chat__room__time\"},[_vm._v(\" \"+_vm._s(_vm._f(\"shortenTime\")(data.createdAt))+\" \")])]):_vm._e()]):_vm._e(),(data.isOnline === 0)?_c('div',{staticClass:\"chat__room__main__leave__wraaper\"},[_c('div',{staticClass:\"chat__room__leave\"},[_c('div',{staticClass:\"chat__room__leave__text\"},[_vm._v(\" \"+_vm._s(data.name)+\" 離線了 QQ \")])])]):_vm._e()])}),0),_c('div',{staticClass:\"chat__room__bottom__wrapper\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],staticClass:\"chat__room__input\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入訊息...\"},domProps:{\"value\":(_vm.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.message=$event.target.value}}}),_c('button',{staticClass:\"chat__room__button\",attrs:{\"type\":\"submit\"}})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chat__room__top__wrapper\"},[_c('div',{staticClass:\"chat__room__title\"},[_vm._v(\" 公開聊天室 \")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <form\n    action=\"\"\n    @submit.stop.prevent=\"handleSubmit\"\n  >\n    <div class=\"chat__room__container\">\n      <div class=\"chat__room__top__wrapper\">\n        <div class=\"chat__room__title\">\n          公開聊天室\n        </div>\n      </div>\n      <div\n        ref=\"main\"\n        class=\"chat__room__main__wrapper\"\n      >\n        <div\n          v-for=\"data in allData\"\n          :key=\"data.messageId\"\n        >\n          <div\n            v-if=\"data.isOnline === 1\"\n            class=\"chat__room__main__info__wraaper\"\n          >\n            <div class=\"chat__room__info\">\n              <div class=\"chat__room__info__text\">\n                {{ data.name }} 上線囉\n              </div>\n            </div>\n          </div>\n          <div\n            v-if=\"data.id\"\n            class=\"chat__room__message__wrapper\"\n          >\n            <div\n              v-if=\"data.id !== currentUser.id\"\n              class=\"chat__room__left__wrapper\"\n            >\n              <div class=\"chat__room__user\">\n                <img\n                  :src=\"data.avatar | emptyImage\"\n                  alt=\"\"\n                  class=\"user__image\"\n                >\n                <div class=\"chat__room__text__container\">\n                  <div class=\"chat__room__text__wrapper\">\n                    <div class=\"chat__room__text\">\n                      {{ data.content }}\n                    </div>\n                  </div>\n                  <div class=\"chat__room__time\">\n                    {{ data.createdAt | shortenTime }}\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div\n              v-if=\"data.id === currentUser.id\"\n              class=\"chat__room__right__wrapper\"\n            >\n              <div class=\"chat__room__right__text__wrapper\">\n                <div class=\"chat__room__right__text\">\n                  {{ data.content }}\n                </div>\n              </div>\n              <div class=\"chat__room__time\">\n                {{ data.createdAt | shortenTime }}\n              </div>\n            </div>\n          </div>\n          <div\n            v-if=\"data.isOnline === 0\"\n            class=\"chat__room__main__leave__wraaper\"\n          >\n            <div class=\"chat__room__leave\">\n              <div class=\"chat__room__leave__text\">\n                {{ data.name }} 離線了 QQ\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"chat__room__bottom__wrapper\">\n        <input\n          v-model=\"message\"\n          type=\"text\"\n          class=\"chat__room__input\"\n          placeholder=\"請輸入訊息...\"\n        >\n        <button\n          type=\"submit\"\n          class=\"chat__room__button\"\n        />\n      </div>\n    </div>\n  </form>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '../assets/scss/main.scss';\n  .chat__room__container {\n    width: 100%;\n    height: 100vh;\n    display: grid;\n    grid-template-rows: 5% 85% 10%;\n    background: #ecf0f3;\n    margin: 0 auto;\n    border-left: 1px solid $light-gray;\n    .chat__room__top__wrapper {\n      border-bottom: 1px solid $line-gray;\n      height: 55px;\n      display: flex;\n      align-items: center;\n      font-size: 18px;\n      font-weight: 700;\n      padding: 14px 0 14px 16px;\n    }\n    .chat__room__main__wrapper {\n      display: flex;\n      flex-direction: column;\n      max-height: fit-content;\n      overflow-y: scroll;\n      // justify-content: flex-end;\n      margin-top: 20px;\n      .chat__room__main__info__wraaper, .chat__room__main__leave__wraaper {\n        width: 100%;\n        text-align: center;\n        width: auto;\n        margin: 20px auto;\n        .chat__room__info, .chat__room__leave {\n          display: flex;\n          justify-content: center;\n          margin: 10px 0;\n          width: auto;\n          height: 25px;\n        }\n        .chat__room__info__text, .chat__room__leave__text {\n          background: #a5a5a55b;\n          color: $tx-gray;\n          padding: 0 10px;\n          border-radius: 10px;\n          line-height: 25px;\n          font-size: 0.8rem;\n        }\n      }\n      .chat__room__message__wrapper {\n        .chat__room__left__wrapper {\n          .chat__room__user {\n            padding: 10px;\n            display: flex;\n            .user__image {\n              width: 50px;\n              height: 50px;\n              border-radius: 50%;\n              margin-right: 10px;\n              cursor: pointer;\n              object-fit: cover;\n            }\n            .chat__room__text__container {\n              display: flex;\n              flex-direction: column;\n              justify-content: center;\n              .chat__room__text__wrapper {\n                background: #9494944b;\n                width: 100%;\n                padding: 10px;\n                border-radius: 10px;\n                border-bottom-left-radius: 0px;\n                .chat__room__text {\n                  font-size: 0.9rem;\n                  color: $black;\n                  word-break: break-all;\n                  line-height: 1.2rem;\n                }\n              }\n            }\n          }\n        }\n        .chat__room__right__wrapper {\n          display: flex;\n          flex-direction: column;\n          align-items: flex-end;\n          padding: 10px;\n          .chat__room__right__text__wrapper {\n            background: #fd6c0a;\n            border-radius: 10px;\n            border-bottom-right-radius: 0;\n            padding: 10px;\n            .chat__room__right__text {\n              text-align: right;\n              color: #ffffff;\n              font-size: 0.9rem;\n              word-break: break-all;\n              line-height: 1.2rem;\n            }\n          }\n        }\n        .chat__room__time {\n          font-size: 0.5rem;\n          margin-top: 5px;\n        }\n      }\n    }\n    .chat__room__bottom__wrapper {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      height: 40px;\n      padding: 15px 5px 0 5px;\n      border-top: 1px solid $line-gray;\n      .chat__room__input {\n        box-shadow: inset 6px 6px 6px #cbced1, inset -6px -6px 6px rgb(255, 255, 255);\n        border: none;\n        border-radius: 100px;\n        background: #ecf0f3;\n        padding: 2px 0 2px 20px;\n        width: 90%;\n        margin-right: 10px;\n        font-size: 0.8rem;\n        height: 35px;\n      }\n      .chat__room__button {\n        width: 50px;\n        height: 30px;\n        border-radius: 10px;\n        color: #a7a7a7;\n        font-size: 0.6rem;\n        box-shadow: 6px 6px 6px #cbced1, -6px -6px 6px white;\n        mask-image: url('./../assets/icon/icon_sendMsg.svg');\n        -webkit-mask-image: url('./../assets/icon/icon_sendMsg.svg');\n        @extend %icon-style;\n        mask-size: 25px;\n        background: $orange;\n      }\n    }\n  }\n  @media screen and (max-width: 480px) {\n    .chat__room__container {\n      height: calc(100vh - 50px);\n    }\n  }\n</style>\n\n<script>\nimport { mapState } from 'vuex'\nimport { Toast } from '../utils/helper'\nimport { shortenTimeFilter, emptyImageFilter } from './../utils/mixins'\nexport default {\n  name: 'ChatRoom',\n  mixins: [shortenTimeFilter, emptyImageFilter],\n  props: {\n    messages: {\n      type: Array,\n      required: true\n    }\n  },\n  data () {\n    return {\n      message: '',\n      allData: this.messages\n    }\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  },\n  created () {\n    this.scrollToEnd()\n    console.log(this.$refs.main)\n  },\n  mounted () {\n    this.scrollToEnd()\n  },\n  updated () {\n    this.scrollToEnd()\n  },\n  methods: {\n    handleSubmit () {\n      if (!this.message) {\n        Toast.fire({\n          icon: 'warning',\n          title: '沒有話要說，就不要亂按'\n        })\n        return\n      }\n      if (!this.message.trim()) {\n        Toast.fire({\n          icon: 'warning',\n          title: '送一堆空格要幹嘛!?'\n        })\n        return\n      }\n      this.$socket.emit('chatMessage', { ...this.currentUser, content: this.message, createdAt: new Date(), avatar: this.currentUser.avatar })\n      this.message = ''\n      // this.allData.push(this.messages)\n    },\n    // 捲軸到最底部\n    scrollToEnd () {\n      this.$refs.main.scrollTop = this.$refs.main.scrollHeight\n    }\n  }\n\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatRoom.vue?vue&type=template&id=e0ea4dc8&scoped=true&\"\nimport script from \"./ChatRoom.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatRoom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatRoom.vue?vue&type=style&index=0&id=e0ea4dc8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e0ea4dc8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"main_container\">\n    <div class=\"middle__content\">\n      <OnlineUser :initial-users=\"users\" />\n    </div>\n    <div\n      class=\"right__content\"\n    >\n      <ChatRoom\n        :messages=\"messages\"\n      />\n    </div>\n  </div>\n</template>\n<script>\nimport OnlineUser from './../components/OnlineUser.vue'\nimport ChatRoom from './../components/ChatRoom.vue'\nimport { mapState } from 'vuex'\nimport chatAPI from './../apis/chat'\nexport default {\n  name: 'PublicChatViews',\n  components: {\n    OnlineUser,\n    ChatRoom\n  },\n  data () {\n    return {\n      users: [],\n      messages: []\n    }\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  },\n  beforeRouteUpdate () {\n    this.$socket.connect()\n  },\n  created () {\n    this.$socket.emit('currentUser', { ...this.currentUser })\n  },\n  beforeDestroy () {\n    console.log('leave')\n    // this.$socket.disconnect()\n  },\n  destroyed () {\n    console.log('請重新連接')\n    // this.$socket.connect()\n  },\n  mounted () {\n    this.historyMessage()\n  },\n  methods: {\n    async historyMessage () {\n      try {\n        const { data } = await chatAPI.messages({ isPrivate: false, id: this.currentUser.id, listenerId: 0 })\n        data.forEach(item => {\n          this.messages.push(item)\n        })\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  },\n  sockets: {\n    connect () {\n      console.log('socket connected')\n    },\n    disconnect () {\n      console.log('socket disconnected!!!!!!!!!!!')\n    },\n    users: function (data) {\n      this.users = data\n    },\n    userConnected: function (data) {\n      this.messages.push(data)\n    },\n    userDisconnected: function (data) {\n      this.messages.push(data)\n    },\n    chatMessage: function (data) {\n      this.messages.push(data)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../assets/scss/main.scss';\n  .main_container {\n      display: flex;\n    .right__content{\n      width: 65%;\n    }\n    .middle__content{\n      width: 35%;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicChat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicChat.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicChat.vue?vue&type=template&id=e9093d94&scoped=true&\"\nimport script from \"./PublicChat.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicChat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PublicChat.vue?vue&type=style&index=0&id=e9093d94&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e9093d94\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicChat.vue?vue&type=style&index=0&id=e9093d94&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","import { apiHelper } from './../utils/helper'\n\nexport default {\n  getPrivateUsers (userId) {\n    return apiHelper.get(`/messages/users/${userId}/messaged`)\n  },\n  messages ({ isPrivate, id, listenerId }) {\n    return apiHelper.get(`/messages?isPrivate=${isPrivate}&id=${id}&listenerId=${listenerId}`)\n  }\n}\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoom.vue?vue&type=style&index=0&id=e0ea4dc8&lang=scss&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}